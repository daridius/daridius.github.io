const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./shareService-BGiI-quj.js","./kvService-DKAEOuXP.js","./_commonjsHelpers-C-mxsbxT.js","./_commonjsHelpers-DEuyKvuG.css","./base62-2XzUJ1fN.js"])))=>i.map(i=>d[i]);
import{c as St,g as Gt,_ as Ht}from"./_commonjsHelpers-C-mxsbxT.js";function Et(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var At={exports:{}};var Nt;function Yt(){return Nt||(Nt=1,(function(_,S){(function(e){_.exports=e()})(function(){return(function e(c,n,r){function i(y,w){if(!n[y]){if(!c[y]){var b=typeof Et=="function"&&Et;if(!w&&b)return b(y,!0);if(a)return a(y,!0);var k=new Error("Cannot find module '"+y+"'");throw k.code="MODULE_NOT_FOUND",k}var u=n[y]={exports:{}};c[y][0].call(u.exports,function(m){var o=c[y][1][m];return i(o||m)},u,u.exports,e,c,n,r)}return n[y].exports}for(var a=typeof Et=="function"&&Et,l=0;l<r.length;l++)i(r[l]);return i})({1:[function(e,c,n){var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var y,w,b,k,u,m,o,f=[],d=0,g=l.length,E=g,I=r.getTypeOf(l)!=="string";d<l.length;)E=g-d,b=I?(y=l[d++],w=d<g?l[d++]:0,d<g?l[d++]:0):(y=l.charCodeAt(d++),w=d<g?l.charCodeAt(d++):0,d<g?l.charCodeAt(d++):0),k=y>>2,u=(3&y)<<4|w>>4,m=1<E?(15&w)<<2|b>>6:64,o=2<E?63&b:64,f.push(a.charAt(k)+a.charAt(u)+a.charAt(m)+a.charAt(o));return f.join("")},n.decode=function(l){var y,w,b,k,u,m,o=0,f=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var g,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&E--,l.charAt(l.length-2)===a.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=i.uint8array?new Uint8Array(0|E):new Array(0|E);o<l.length;)y=a.indexOf(l.charAt(o++))<<2|(k=a.indexOf(l.charAt(o++)))>>4,w=(15&k)<<4|(u=a.indexOf(l.charAt(o++)))>>2,b=(3&u)<<6|(m=a.indexOf(l.charAt(o++))),g[f++]=y,u!==64&&(g[f++]=w),m!==64&&(g[f++]=b);return g}},{"./support":30,"./utils":32}],2:[function(e,c,n){var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function y(w,b,k,u,m){this.compressedSize=w,this.uncompressedSize=b,this.crc32=k,this.compression=u,this.compressedContent=m}y.prototype={getContentWorker:function(){var w=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),b=this;return w.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(w,b,k){return w.pipe(new a).pipe(new l("uncompressedSize")).pipe(b.compressWorker(k)).pipe(new l("compressedSize")).withStreamInfo("compression",b)},c.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,c,n){var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,c,n){var r=e("./utils"),i=(function(){for(var a,l=[],y=0;y<256;y++){a=y;for(var w=0;w<8;w++)a=1&a?3988292384^a>>>1:a>>>1;l[y]=a}return l})();c.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?(function(y,w,b,k){var u=i,m=k+b;y^=-1;for(var o=k;o<m;o++)y=y>>>8^u[255&(y^w[o])];return-1^y})(0|l,a,a.length,0):(function(y,w,b,k){var u=i,m=k+b;y^=-1;for(var o=k;o<m;o++)y=y>>>8^u[255&(y^w.charCodeAt(o))];return-1^y})(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(e,c,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,c,n){var r=null;r=typeof Promise<"u"?Promise:e("lie"),c.exports={Promise:r}},{lie:37}],7:[function(e,c,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=e("pako"),a=e("./utils"),l=e("./stream/GenericWorker"),y=r?"uint8array":"array";function w(b,k){l.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=k,this.meta={}}n.magic="\b\0",a.inherits(w,l),w.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(y,b.data),!1)},w.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(k){b.push({data:k,meta:b.meta})}},n.compressWorker=function(b){return new w("Deflate",b)},n.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,c,n){function r(u,m){var o,f="";for(o=0;o<m;o++)f+=String.fromCharCode(255&u),u>>>=8;return f}function i(u,m,o,f,d,g){var E,I,A=u.file,L=u.compression,R=g!==y.utf8encode,P=a.transformTo("string",g(A.name)),N=a.transformTo("string",y.utf8encode(A.name)),U=A.comment,Y=a.transformTo("string",g(U)),v=a.transformTo("string",y.utf8encode(U)),T=N.length!==A.name.length,s=v.length!==U.length,F="",Q="",W="",tt=A.dir,Z=A.date,J={crc32:0,compressedSize:0,uncompressedSize:0};m&&!o||(J.crc32=u.crc32,J.compressedSize=u.compressedSize,J.uncompressedSize=u.uncompressedSize);var D=0;m&&(D|=8),R||!T&&!s||(D|=2048);var C=0,X=0;tt&&(C|=16),d==="UNIX"?(X=798,C|=(function(H,st){var lt=H;return H||(lt=st?16893:33204),(65535&lt)<<16})(A.unixPermissions,tt)):(X=20,C|=(function(H){return 63&(H||0)})(A.dosPermissions)),E=Z.getUTCHours(),E<<=6,E|=Z.getUTCMinutes(),E<<=5,E|=Z.getUTCSeconds()/2,I=Z.getUTCFullYear()-1980,I<<=4,I|=Z.getUTCMonth()+1,I<<=5,I|=Z.getUTCDate(),T&&(Q=r(1,1)+r(w(P),4)+N,F+="up"+r(Q.length,2)+Q),s&&(W=r(1,1)+r(w(Y),4)+v,F+="uc"+r(W.length,2)+W);var q="";return q+=`
\0`,q+=r(D,2),q+=L.magic,q+=r(E,2),q+=r(I,2),q+=r(J.crc32,4),q+=r(J.compressedSize,4),q+=r(J.uncompressedSize,4),q+=r(P.length,2),q+=r(F.length,2),{fileRecord:b.LOCAL_FILE_HEADER+q+P+F,dirRecord:b.CENTRAL_FILE_HEADER+r(X,2)+q+r(Y.length,2)+"\0\0\0\0"+r(C,4)+r(f,4)+P+F+Y}}var a=e("../utils"),l=e("../stream/GenericWorker"),y=e("../utf8"),w=e("../crc32"),b=e("../signature");function k(u,m,o,f){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=o,this.encodeFileName=f,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(k,l),k.prototype.push=function(u){var m=u.meta.percent||0,o=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:o?(m+100*(o-f-1))/o:100}}))},k.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var m=this.streamFiles&&!u.file.dir;if(m){var o=i(u,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(u){this.accumulate=!1;var m=this.streamFiles&&!u.file.dir,o=i(u,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),m)this.push({data:(function(f){return b.DATA_DESCRIPTOR+r(f.crc32,4)+r(f.compressedSize,4)+r(f.uncompressedSize,4)})(u),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var u=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var o=this.bytesWritten-u,f=(function(d,g,E,I,A){var L=a.transformTo("string",A(I));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(d,2)+r(d,2)+r(g,4)+r(E,4)+r(L.length,2)+L})(this.dirRecords.length,o,u,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(u){this._sources.push(u);var m=this;return u.on("data",function(o){m.processChunk(o)}),u.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),u.on("error",function(o){m.error(o)}),this},k.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},k.prototype.error=function(u){var m=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var o=0;o<m.length;o++)try{m[o].error(u)}catch{}return!0},k.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,m=0;m<u.length;m++)u[m].lock()},c.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,c,n){var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(a,l,y){var w=new i(l.streamFiles,y,l.platform,l.encodeFileName),b=0;try{a.forEach(function(k,u){b++;var m=(function(g,E){var I=g||E,A=r[I];if(!A)throw new Error(I+" is not a valid compression method !");return A})(u.options.compression,l.compression),o=u.options.compressionOptions||l.compressionOptions||{},f=u.dir,d=u.date;u._compressWorker(m,o).withStreamInfo("file",{name:k,dir:f,date:d,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(w)}),w.entriesCount=b}catch(k){w.error(k)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,c,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var a in this)typeof this[a]!="function"&&(i[a]=this[a]);return i}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(i,a){return new r().loadAsync(i,a)},r.external=e("./external"),c.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,c,n){var r=e("./utils"),i=e("./external"),a=e("./utf8"),l=e("./zipEntries"),y=e("./stream/Crc32Probe"),w=e("./nodejsUtils");function b(k){return new i.Promise(function(u,m){var o=k.decompressed.getContentWorker().pipe(new y);o.on("error",function(f){m(f)}).on("end",function(){o.streamInfo.crc32!==k.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}c.exports=function(k,u){var m=this;return u=r.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),w.isNode&&w.isStream(k)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",k,!0,u.optimizedBinaryString,u.base64).then(function(o){var f=new l(u);return f.load(o),f}).then(function(o){var f=[i.Promise.resolve(o)],d=o.files;if(u.checkCRC32)for(var g=0;g<d.length;g++)f.push(b(d[g]));return i.Promise.all(f)}).then(function(o){for(var f=o.shift(),d=f.files,g=0;g<d.length;g++){var E=d[g],I=E.fileNameStr,A=r.resolve(E.fileNameStr);m.file(A,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:u.createFolders}),E.dir||(m.file(A).unsafeOriginalName=I)}return f.zipComment.length&&(m.comment=f.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,c,n){var r=e("../utils"),i=e("../stream/GenericWorker");function a(l,y){i.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(y)}r.inherits(a,i),a.prototype._bindStream=function(l){var y=this;(this._stream=l).pause(),l.on("data",function(w){y.push({data:w,meta:{percent:0}})}).on("error",function(w){y.isPaused?this.generatedError=w:y.error(w)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,c,n){var r=e("readable-stream").Readable;function i(a,l,y){r.call(this,l),this._helper=a;var w=this;a.on("data",function(b,k){w.push(b)||w._helper.pause(),y&&y(k)}).on("error",function(b){w.emit("error",b)}).on("end",function(){w.push(null)})}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},c.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,c,n){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(e,c,n){function r(A,L,R){var P,N=a.getTypeOf(L),U=a.extend(R||{},w);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(A=d(A)),U.createFolders&&(P=f(A))&&g.call(this,P,!0);var Y=N==="string"&&U.binary===!1&&U.base64===!1;R&&R.binary!==void 0||(U.binary=!Y),(L instanceof b&&L.uncompressedSize===0||U.dir||!L||L.length===0)&&(U.base64=!1,U.binary=!0,L="",U.compression="STORE",N="string");var v=null;v=L instanceof b||L instanceof l?L:m.isNode&&m.isStream(L)?new o(A,L):a.prepareContent(A,L,U.binary,U.optimizedBinaryString,U.base64);var T=new k(A,v,U);this.files[A]=T}var i=e("./utf8"),a=e("./utils"),l=e("./stream/GenericWorker"),y=e("./stream/StreamHelper"),w=e("./defaults"),b=e("./compressedObject"),k=e("./zipObject"),u=e("./generate"),m=e("./nodejsUtils"),o=e("./nodejs/NodejsStreamInputAdapter"),f=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var L=A.lastIndexOf("/");return 0<L?A.substring(0,L):""},d=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},g=function(A,L){return L=L!==void 0?L:w.createFolders,A=d(A),this.files[A]||r.call(this,A,null,{dir:!0,createFolders:L}),this.files[A]};function E(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var L,R,P;for(L in this.files)P=this.files[L],(R=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&A(R,P)},filter:function(A){var L=[];return this.forEach(function(R,P){A(R,P)&&L.push(P)}),L},file:function(A,L,R){if(arguments.length!==1)return A=this.root+A,r.call(this,A,L,R),this;if(E(A)){var P=A;return this.filter(function(U,Y){return!Y.dir&&P.test(U)})}var N=this.files[this.root+A];return N&&!N.dir?N:null},folder:function(A){if(!A)return this;if(E(A))return this.filter(function(N,U){return U.dir&&A.test(N)});var L=this.root+A,R=g.call(this,L),P=this.clone();return P.root=R.name,P},remove:function(A){A=this.root+A;var L=this.files[A];if(L||(A.slice(-1)!=="/"&&(A+="/"),L=this.files[A]),L&&!L.dir)delete this.files[A];else for(var R=this.filter(function(N,U){return U.name.slice(0,A.length)===A}),P=0;P<R.length;P++)delete this.files[R[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var L,R={};try{if((R=a.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var P=R.comment||this.comment||"";L=u.generateWorker(this,R,P)}catch(N){(L=new l("error")).error(N)}return new y(L,R.type||"string",R.mimeType)},generateAsync:function(A,L){return this.generateInternalStream(A).accumulate(L)},generateNodeStream:function(A,L){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(L)}};c.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,c,n){c.exports=e("stream")},{stream:void 0}],17:[function(e,c,n){var r=e("./DataReader");function i(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}e("../utils").inherits(i,r),i.prototype.byteAt=function(a){return this.data[this.zero+a]},i.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),b=a.charCodeAt(3),k=this.length-4;0<=k;--k)if(this.data[k]===l&&this.data[k+1]===y&&this.data[k+2]===w&&this.data[k+3]===b)return k-this.zero;return-1},i.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),b=a.charCodeAt(3),k=this.readData(4);return l===k[0]&&y===k[1]&&w===k[2]&&b===k[3]},i.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},c.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,c,n){var r=e("../utils");function i(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,y=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)y=(y<<8)+this.byteAt(l);return this.index+=a,y},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},c.exports=i},{"../utils":32}],19:[function(e,c,n){var r=e("./Uint8ArrayReader");function i(a){r.call(this,a)}e("../utils").inherits(i,r),i.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},c.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,c,n){var r=e("./DataReader");function i(a){r.call(this,a)}e("../utils").inherits(i,r),i.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},i.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},i.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},i.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},c.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,c,n){var r=e("./ArrayReader");function i(a){r.call(this,a)}e("../utils").inherits(i,r),i.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},c.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,c,n){var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),l=e("./StringReader"),y=e("./NodeBufferReader"),w=e("./Uint8ArrayReader");c.exports=function(b){var k=r.getTypeOf(b);return r.checkSupport(k),k!=="string"||i.uint8array?k==="nodebuffer"?new y(b):i.uint8array?new w(r.transformTo("uint8array",b)):new a(r.transformTo("array",b)):new l(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,c,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,c,n){var r=e("./GenericWorker"),i=e("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}i.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:i.transformTo(this.destType,l.data),meta:l.meta})},c.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,c,n){var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=i(l.data,this.streamInfo.crc32||0),this.push(l)},c.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,c,n){var r=e("../utils"),i=e("./GenericWorker");function a(l){i.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,i),a.prototype.processChunk=function(l){if(l){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+l.data.length}i.prototype.processChunk.call(this,l)},c.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,c,n){var r=e("../utils"),i=e("./GenericWorker");function a(l){i.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(w){y.dataIsReady=!0,y.data=w,y.max=w&&w.length||0,y.type=r.getTypeOf(w),y.isPaused||y._tickAndRepeat()},function(w){y.error(w)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,y);break;case"uint8array":l=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":l=this.data.slice(this.index,y)}return this.index=y,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,c,n){function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,a){return this._listeners[i].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,a){if(this._listeners[i])for(var l=0;l<this._listeners[i].length;l++)this._listeners[i][l].call(this,a)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var a=this;return i.on("data",function(l){a.processChunk(l)}),i.on("end",function(){a.end()}),i.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,a){return this.extraStreamInfo[i]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},c.exports=r},{}],29:[function(e,c,n){var r=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),l=e("../base64"),y=e("../support"),w=e("../external"),b=null;if(y.nodestream)try{b=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function k(m,o){return new w.Promise(function(f,d){var g=[],E=m._internalType,I=m._outputType,A=m._mimeType;m.on("data",function(L,R){g.push(L),o&&o(R)}).on("error",function(L){g=[],d(L)}).on("end",function(){try{var L=(function(R,P,N){switch(R){case"blob":return r.newBlob(r.transformTo("arraybuffer",P),N);case"base64":return l.encode(P);default:return r.transformTo(R,P)}})(I,(function(R,P){var N,U=0,Y=null,v=0;for(N=0;N<P.length;N++)v+=P[N].length;switch(R){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(Y=new Uint8Array(v),N=0;N<P.length;N++)Y.set(P[N],U),U+=P[N].length;return Y;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+R+"'")}})(E,g),A);f(L)}catch(R){d(R)}g=[]}).resume()})}function u(m,o,f){var d=o;switch(o){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=o,this._mimeType=f,r.checkSupport(d),this._worker=m.pipe(new i(d)),m.lock()}catch(g){this._worker=new a("error"),this._worker.error(g)}}u.prototype={accumulate:function(m){return k(this,m)},on:function(m,o){var f=this;return m==="data"?this._worker.on(m,function(d){o.call(f,d.data,d.meta)}):this._worker.on(m,function(){r.delay(o,arguments,f)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},m)}},c.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,c,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,c,n){for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),l=e("./stream/GenericWorker"),y=new Array(256),w=0;w<256;w++)y[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;y[254]=y[254]=1;function b(){l.call(this,"utf-8 decode"),this.leftOver=null}function k(){l.call(this,"utf-8 encode")}n.utf8encode=function(u){return i.nodebuffer?a.newBufferFrom(u,"utf-8"):(function(m){var o,f,d,g,E,I=m.length,A=0;for(g=0;g<I;g++)(64512&(f=m.charCodeAt(g)))==55296&&g+1<I&&(64512&(d=m.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),g++),A+=f<128?1:f<2048?2:f<65536?3:4;for(o=i.uint8array?new Uint8Array(A):new Array(A),g=E=0;E<A;g++)(64512&(f=m.charCodeAt(g)))==55296&&g+1<I&&(64512&(d=m.charCodeAt(g+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),g++),f<128?o[E++]=f:(f<2048?o[E++]=192|f>>>6:(f<65536?o[E++]=224|f>>>12:(o[E++]=240|f>>>18,o[E++]=128|f>>>12&63),o[E++]=128|f>>>6&63),o[E++]=128|63&f);return o})(u)},n.utf8decode=function(u){return i.nodebuffer?r.transformTo("nodebuffer",u).toString("utf-8"):(function(m){var o,f,d,g,E=m.length,I=new Array(2*E);for(o=f=0;o<E;)if((d=m[o++])<128)I[f++]=d;else if(4<(g=y[d]))I[f++]=65533,o+=g-1;else{for(d&=g===2?31:g===3?15:7;1<g&&o<E;)d=d<<6|63&m[o++],g--;1<g?I[f++]=65533:d<65536?I[f++]=d:(d-=65536,I[f++]=55296|d>>10&1023,I[f++]=56320|1023&d)}return I.length!==f&&(I.subarray?I=I.subarray(0,f):I.length=f),r.applyFromCharCode(I)})(u=r.transformTo(i.uint8array?"uint8array":"array",u))},r.inherits(b,l),b.prototype.processChunk=function(u){var m=r.transformTo(i.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=m;(m=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),m.set(o,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var f=(function(g,E){var I;for((E=E||g.length)>g.length&&(E=g.length),I=E-1;0<=I&&(192&g[I])==128;)I--;return I<0||I===0?E:I+y[g[I]]>E?I:E})(m),d=m;f!==m.length&&(i.uint8array?(d=m.subarray(0,f),this.leftOver=m.subarray(f,m.length)):(d=m.slice(0,f),this.leftOver=m.slice(f,m.length))),this.push({data:n.utf8decode(d),meta:u.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=b,r.inherits(k,l),k.prototype.processChunk=function(u){this.push({data:n.utf8encode(u.data),meta:u.meta})},n.Utf8EncodeWorker=k},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,c,n){var r=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),l=e("./external");function y(o){return o}function w(o,f){for(var d=0;d<o.length;++d)f[d]=255&o.charCodeAt(d);return f}e("setimmediate"),n.newBlob=function(o,f){n.checkSupport("blob");try{return new Blob([o],{type:f})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(o),d.getBlob(f)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(o,f,d){var g=[],E=0,I=o.length;if(I<=d)return String.fromCharCode.apply(null,o);for(;E<I;)f==="array"||f==="nodebuffer"?g.push(String.fromCharCode.apply(null,o.slice(E,Math.min(E+d,I)))):g.push(String.fromCharCode.apply(null,o.subarray(E,Math.min(E+d,I)))),E+=d;return g.join("")},stringifyByChar:function(o){for(var f="",d=0;d<o.length;d++)f+=String.fromCharCode(o[d]);return f},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function k(o){var f=65536,d=n.getTypeOf(o),g=!0;if(d==="uint8array"?g=b.applyCanBeUsed.uint8array:d==="nodebuffer"&&(g=b.applyCanBeUsed.nodebuffer),g)for(;1<f;)try{return b.stringifyByChunk(o,d,f)}catch{f=Math.floor(f/2)}return b.stringifyByChar(o)}function u(o,f){for(var d=0;d<o.length;d++)f[d]=o[d];return f}n.applyFromCharCode=k;var m={};m.string={string:y,array:function(o){return w(o,new Array(o.length))},arraybuffer:function(o){return m.string.uint8array(o).buffer},uint8array:function(o){return w(o,new Uint8Array(o.length))},nodebuffer:function(o){return w(o,a.allocBuffer(o.length))}},m.array={string:k,array:y,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(o)}},m.arraybuffer={string:function(o){return k(new Uint8Array(o))},array:function(o){return u(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:y,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return a.newBufferFrom(new Uint8Array(o))}},m.uint8array={string:k,array:function(o){return u(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:y,nodebuffer:function(o){return a.newBufferFrom(o)}},m.nodebuffer={string:k,array:function(o){return u(o,new Array(o.length))},arraybuffer:function(o){return m.nodebuffer.uint8array(o).buffer},uint8array:function(o){return u(o,new Uint8Array(o.length))},nodebuffer:y},n.transformTo=function(o,f){if(f=f||"",!o)return f;n.checkSupport(o);var d=n.getTypeOf(f);return m[d][o](f)},n.resolve=function(o){for(var f=o.split("/"),d=[],g=0;g<f.length;g++){var E=f[g];E==="."||E===""&&g!==0&&g!==f.length-1||(E===".."?d.pop():d.push(E))}return d.join("/")},n.getTypeOf=function(o){return typeof o=="string"?"string":Object.prototype.toString.call(o)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(o)?"nodebuffer":r.uint8array&&o instanceof Uint8Array?"uint8array":r.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(o){if(!r[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(o){var f,d,g="";for(d=0;d<(o||"").length;d++)g+="\\x"+((f=o.charCodeAt(d))<16?"0":"")+f.toString(16).toUpperCase();return g},n.delay=function(o,f,d){setImmediate(function(){o.apply(d||null,f||[])})},n.inherits=function(o,f){function d(){}d.prototype=f.prototype,o.prototype=new d},n.extend=function(){var o,f,d={};for(o=0;o<arguments.length;o++)for(f in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],f)&&d[f]===void 0&&(d[f]=arguments[o][f]);return d},n.prepareContent=function(o,f,d,g,E){return l.Promise.resolve(f).then(function(I){return r.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,L){var R=new FileReader;R.onload=function(P){A(P.target.result)},R.onerror=function(P){L(P.target.error)},R.readAsArrayBuffer(I)}):I}).then(function(I){var A=n.getTypeOf(I);return A?(A==="arraybuffer"?I=n.transformTo("uint8array",I):A==="string"&&(E?I=i.decode(I):d&&g!==!0&&(I=(function(L){return w(L,r.uint8array?new Uint8Array(L.length):new Array(L.length))})(I))),I):l.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,c,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),l=e("./zipEntry"),y=e("./support");function w(b){this.files=[],this.loadOptions=b}w.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var k=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(k)+", expected "+i.pretty(b)+")")}},isSignature:function(b,k){var u=this.reader.index;this.reader.setIndex(b);var m=this.reader.readString(4)===k;return this.reader.setIndex(u),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),k=y.uint8array?"uint8array":"array",u=i.transformTo(k,b);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,k,u,m=this.zip64EndOfCentralSize-44;0<m;)b=this.reader.readInt(2),k=this.reader.readInt(4),u=this.reader.readData(k),this.zip64ExtensibleData[b]={id:b,length:k,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,k;for(b=0;b<this.files.length;b++)k=this.files[b],this.reader.setIndex(k.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),k.readLocalPart(this.reader),k.handleUTF8(),k.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(b=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var k=b;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var m=k-u;if(0<m)this.isSignature(k,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(b){this.reader=r(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,c,n){var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),l=e("./crc32"),y=e("./utf8"),w=e("./compressions"),b=e("./support");function k(u,m){this.options=u,this.loadOptions=m}k.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var m,o;if(u.skip(22),this.fileNameLength=u.readInt(2),o=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(o),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(f){for(var d in w)if(Object.prototype.hasOwnProperty.call(w,d)&&w[d].magic===f)return w[d];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var m=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(m),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var m,o,f,d=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<d;)m=u.readInt(2),o=u.readInt(2),f=u.readData(o),this.extraFields[m]={id:m,length:o,value:f};u.setIndex(d)},handleUTF8:function(){var u=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var o=i.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var f=this.findExtraFieldUnicodeComment();if(f!==null)this.fileCommentStr=f;else{var d=i.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var m=r(u.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:y.utf8decode(m.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var m=r(u.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:y.utf8decode(m.readData(u.length-5))}return null}},c.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,c,n){function r(m,o,f){this.name=m,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=o,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),l=e("./utf8"),y=e("./compressedObject"),w=e("./stream/GenericWorker");r.prototype={internalStream:function(m){var o=null,f="string";try{if(!m)throw new Error("No output type specified.");var d=(f=m.toLowerCase())==="string"||f==="text";f!=="binarystring"&&f!=="text"||(f="string"),o=this._decompressWorker();var g=!this._dataBinary;g&&!d&&(o=o.pipe(new l.Utf8EncodeWorker)),!g&&d&&(o=o.pipe(new l.Utf8DecodeWorker))}catch(E){(o=new w("error")).error(E)}return new i(o,f,"")},async:function(m,o){return this.internalStream(m).accumulate(o)},nodeStream:function(m,o){return this.internalStream(m||"nodebuffer").toNodejsStream(o)},_compressWorker:function(m,o){if(this._data instanceof y&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var f=this._decompressWorker();return this._dataBinary||(f=f.pipe(new l.Utf8EncodeWorker)),y.createWorkerFrom(f,m,o)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof w?this._data:new a(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<b.length;u++)r.prototype[b[u]]=k;c.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,c,n){(function(r){var i,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var y=0,w=new l(m),b=r.document.createTextNode("");w.observe(b,{characterData:!0}),i=function(){b.data=y=++y%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var o=r.document.createElement("script");o.onreadystatechange=function(){m(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},r.document.documentElement.appendChild(o)}:function(){setTimeout(m,0)};else{var k=new r.MessageChannel;k.port1.onmessage=m,i=function(){k.port2.postMessage(0)}}var u=[];function m(){var o,f;a=!0;for(var d=u.length;d;){for(f=u,u=[],o=-1;++o<d;)f[o]();d=u.length}a=!1}c.exports=function(o){u.push(o)!==1||a||i()}}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,c,n){var r=e("immediate");function i(){}var a={},l=["REJECTED"],y=["FULFILLED"],w=["PENDING"];function b(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,d!==i&&o(this,d)}function k(d,g,E){this.promise=d,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function u(d,g,E){r(function(){var I;try{I=g(E)}catch(A){return a.reject(d,A)}I===d?a.reject(d,new TypeError("Cannot resolve promise with itself")):a.resolve(d,I)})}function m(d){var g=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof g=="function")return function(){g.apply(d,arguments)}}function o(d,g){var E=!1;function I(R){E||(E=!0,a.reject(d,R))}function A(R){E||(E=!0,a.resolve(d,R))}var L=f(function(){g(A,I)});L.status==="error"&&I(L.value)}function f(d,g){var E={};try{E.value=d(g),E.status="success"}catch(I){E.status="error",E.value=I}return E}(c.exports=b).prototype.finally=function(d){if(typeof d!="function")return this;var g=this.constructor;return this.then(function(E){return g.resolve(d()).then(function(){return E})},function(E){return g.resolve(d()).then(function(){throw E})})},b.prototype.catch=function(d){return this.then(null,d)},b.prototype.then=function(d,g){if(typeof d!="function"&&this.state===y||typeof g!="function"&&this.state===l)return this;var E=new this.constructor(i);return this.state!==w?u(E,this.state===y?d:g,this.outcome):this.queue.push(new k(E,d,g)),E},k.prototype.callFulfilled=function(d){a.resolve(this.promise,d)},k.prototype.otherCallFulfilled=function(d){u(this.promise,this.onFulfilled,d)},k.prototype.callRejected=function(d){a.reject(this.promise,d)},k.prototype.otherCallRejected=function(d){u(this.promise,this.onRejected,d)},a.resolve=function(d,g){var E=f(m,g);if(E.status==="error")return a.reject(d,E.value);var I=E.value;if(I)o(d,I);else{d.state=y,d.outcome=g;for(var A=-1,L=d.queue.length;++A<L;)d.queue[A].callFulfilled(g)}return d},a.reject=function(d,g){d.state=l,d.outcome=g;for(var E=-1,I=d.queue.length;++E<I;)d.queue[E].callRejected(g);return d},b.resolve=function(d){return d instanceof this?d:a.resolve(new this(i),d)},b.reject=function(d){var g=new this(i);return a.reject(g,d)},b.all=function(d){var g=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=d.length,I=!1;if(!E)return this.resolve([]);for(var A=new Array(E),L=0,R=-1,P=new this(i);++R<E;)N(d[R],R);return P;function N(U,Y){g.resolve(U).then(function(v){A[Y]=v,++L!==E||I||(I=!0,a.resolve(P,A))},function(v){I||(I=!0,a.reject(P,v))})}},b.race=function(d){var g=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=d.length,I=!1;if(!E)return this.resolve([]);for(var A=-1,L=new this(i);++A<E;)R=d[A],g.resolve(R).then(function(P){I||(I=!0,a.resolve(L,P))},function(P){I||(I=!0,a.reject(L,P))});var R;return L}},{immediate:36}],38:[function(e,c,n){var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),c.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,c,n){var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/messages"),y=e("./zlib/zstream"),w=Object.prototype.toString,b=0,k=-1,u=0,m=8;function o(d){if(!(this instanceof o))return new o(d);this.options=i.assign({level:k,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},d||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var E=r.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(E!==b)throw new Error(l[E]);if(g.header&&r.deflateSetHeader(this.strm,g.header),g.dictionary){var I;if(I=typeof g.dictionary=="string"?a.string2buf(g.dictionary):w.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(E=r.deflateSetDictionary(this.strm,I))!==b)throw new Error(l[E]);this._dict_set=!0}}function f(d,g){var E=new o(g);if(E.push(d,!0),E.err)throw E.msg||l[E.err];return E.result}o.prototype.push=function(d,g){var E,I,A=this.strm,L=this.options.chunkSize;if(this.ended)return!1;I=g===~~g?g:g===!0?4:0,typeof d=="string"?A.input=a.string2buf(d):w.call(d)==="[object ArrayBuffer]"?A.input=new Uint8Array(d):A.input=d,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new i.Buf8(L),A.next_out=0,A.avail_out=L),(E=r.deflate(A,I))!==1&&E!==b)return this.onEnd(E),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(i.shrinkBuf(A.output,A.next_out))):this.onData(i.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&E!==1);return I===4?(E=r.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===b):I!==2||(this.onEnd(b),!(A.avail_out=0))},o.prototype.onData=function(d){this.chunks.push(d)},o.prototype.onEnd=function(d){d===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Deflate=o,n.deflate=f,n.deflateRaw=function(d,g){return(g=g||{}).raw=!0,f(d,g)},n.gzip=function(d,g){return(g=g||{}).gzip=!0,f(d,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,c,n){var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),l=e("./zlib/constants"),y=e("./zlib/messages"),w=e("./zlib/zstream"),b=e("./zlib/gzheader"),k=Object.prototype.toString;function u(o){if(!(this instanceof u))return new u(o);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},o||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||o&&o.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var d=r.inflateInit2(this.strm,f.windowBits);if(d!==l.Z_OK)throw new Error(y[d]);this.header=new b,r.inflateGetHeader(this.strm,this.header)}function m(o,f){var d=new u(f);if(d.push(o,!0),d.err)throw d.msg||y[d.err];return d.result}u.prototype.push=function(o,f){var d,g,E,I,A,L,R=this.strm,P=this.options.chunkSize,N=this.options.dictionary,U=!1;if(this.ended)return!1;g=f===~~f?f:f===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof o=="string"?R.input=a.binstring2buf(o):k.call(o)==="[object ArrayBuffer]"?R.input=new Uint8Array(o):R.input=o,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new i.Buf8(P),R.next_out=0,R.avail_out=P),(d=r.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(L=typeof N=="string"?a.string2buf(N):k.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,d=r.inflateSetDictionary(this.strm,L)),d===l.Z_BUF_ERROR&&U===!0&&(d=l.Z_OK,U=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&d!==l.Z_STREAM_END&&(R.avail_in!==0||g!==l.Z_FINISH&&g!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=a.utf8border(R.output,R.next_out),I=R.next_out-E,A=a.buf2string(R.output,E),R.next_out=I,R.avail_out=P-I,I&&i.arraySet(R.output,R.output,E,I,0),this.onData(A)):this.onData(i.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(U=!0)}while((0<R.avail_in||R.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(g=l.Z_FINISH),g===l.Z_FINISH?(d=r.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):g!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},u.prototype.onData=function(o){this.chunks.push(o)},u.prototype.onEnd=function(o){o===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},n.Inflate=u,n.inflate=m,n.inflateRaw=function(o,f){return(f=f||{}).raw=!0,m(o,f)},n.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,c,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var w=y.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var b in w)w.hasOwnProperty(b)&&(l[b]=w[b])}}return l},n.shrinkBuf=function(l,y){return l.length===y?l:l.subarray?l.subarray(0,y):(l.length=y,l)};var i={arraySet:function(l,y,w,b,k){if(y.subarray&&l.subarray)l.set(y.subarray(w,w+b),k);else for(var u=0;u<b;u++)l[k+u]=y[w+u]},flattenChunks:function(l){var y,w,b,k,u,m;for(y=b=0,w=l.length;y<w;y++)b+=l[y].length;for(m=new Uint8Array(b),y=k=0,w=l.length;y<w;y++)u=l[y],m.set(u,k),k+=u.length;return m}},a={arraySet:function(l,y,w,b,k){for(var u=0;u<b;u++)l[k+u]=y[w+u]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,c,n){var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new r.Buf8(256),y=0;y<256;y++)l[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function w(b,k){if(k<65537&&(b.subarray&&a||!b.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(b,k));for(var u="",m=0;m<k;m++)u+=String.fromCharCode(b[m]);return u}l[254]=l[254]=1,n.string2buf=function(b){var k,u,m,o,f,d=b.length,g=0;for(o=0;o<d;o++)(64512&(u=b.charCodeAt(o)))==55296&&o+1<d&&(64512&(m=b.charCodeAt(o+1)))==56320&&(u=65536+(u-55296<<10)+(m-56320),o++),g+=u<128?1:u<2048?2:u<65536?3:4;for(k=new r.Buf8(g),o=f=0;f<g;o++)(64512&(u=b.charCodeAt(o)))==55296&&o+1<d&&(64512&(m=b.charCodeAt(o+1)))==56320&&(u=65536+(u-55296<<10)+(m-56320),o++),u<128?k[f++]=u:(u<2048?k[f++]=192|u>>>6:(u<65536?k[f++]=224|u>>>12:(k[f++]=240|u>>>18,k[f++]=128|u>>>12&63),k[f++]=128|u>>>6&63),k[f++]=128|63&u);return k},n.buf2binstring=function(b){return w(b,b.length)},n.binstring2buf=function(b){for(var k=new r.Buf8(b.length),u=0,m=k.length;u<m;u++)k[u]=b.charCodeAt(u);return k},n.buf2string=function(b,k){var u,m,o,f,d=k||b.length,g=new Array(2*d);for(u=m=0;u<d;)if((o=b[u++])<128)g[m++]=o;else if(4<(f=l[o]))g[m++]=65533,u+=f-1;else{for(o&=f===2?31:f===3?15:7;1<f&&u<d;)o=o<<6|63&b[u++],f--;1<f?g[m++]=65533:o<65536?g[m++]=o:(o-=65536,g[m++]=55296|o>>10&1023,g[m++]=56320|1023&o)}return w(g,m)},n.utf8border=function(b,k){var u;for((k=k||b.length)>b.length&&(k=b.length),u=k-1;0<=u&&(192&b[u])==128;)u--;return u<0||u===0?k:u+l[b[u]]>k?u:k}},{"./common":41}],43:[function(e,c,n){c.exports=function(r,i,a,l){for(var y=65535&r|0,w=r>>>16&65535|0,b=0;a!==0;){for(a-=b=2e3<a?2e3:a;w=w+(y=y+i[l++]|0)|0,--b;);y%=65521,w%=65521}return y|w<<16|0}},{}],44:[function(e,c,n){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,c,n){var r=(function(){for(var i,a=[],l=0;l<256;l++){i=l;for(var y=0;y<8;y++)i=1&i?3988292384^i>>>1:i>>>1;a[l]=i}return a})();c.exports=function(i,a,l,y){var w=r,b=y+l;i^=-1;for(var k=y;k<b;k++)i=i>>>8^w[255&(i^a[k])];return-1^i}},{}],46:[function(e,c,n){var r,i=e("../utils/common"),a=e("./trees"),l=e("./adler32"),y=e("./crc32"),w=e("./messages"),b=0,k=4,u=0,m=-2,o=-1,f=4,d=2,g=8,E=9,I=286,A=30,L=19,R=2*I+1,P=15,N=3,U=258,Y=U+N+1,v=42,T=113,s=1,F=2,Q=3,W=4;function tt(t,B){return t.msg=w[B],B}function Z(t){return(t<<1)-(4<t?9:0)}function J(t){for(var B=t.length;0<=--B;)t[B]=0}function D(t){var B=t.state,z=B.pending;z>t.avail_out&&(z=t.avail_out),z!==0&&(i.arraySet(t.output,B.pending_buf,B.pending_out,z,t.next_out),t.next_out+=z,B.pending_out+=z,t.total_out+=z,t.avail_out-=z,B.pending-=z,B.pending===0&&(B.pending_out=0))}function C(t,B){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,B),t.block_start=t.strstart,D(t.strm)}function X(t,B){t.pending_buf[t.pending++]=B}function q(t,B){t.pending_buf[t.pending++]=B>>>8&255,t.pending_buf[t.pending++]=255&B}function H(t,B){var z,p,h=t.max_chain_length,x=t.strstart,j=t.prev_length,M=t.nice_match,O=t.strstart>t.w_size-Y?t.strstart-(t.w_size-Y):0,$=t.window,K=t.w_mask,G=t.prev,V=t.strstart+U,it=$[x+j-1],rt=$[x+j];t.prev_length>=t.good_match&&(h>>=2),M>t.lookahead&&(M=t.lookahead);do if($[(z=B)+j]===rt&&$[z+j-1]===it&&$[z]===$[x]&&$[++z]===$[x+1]){x+=2,z++;do;while($[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&$[++x]===$[++z]&&x<V);if(p=U-(V-x),x=V-U,j<p){if(t.match_start=B,M<=(j=p))break;it=$[x+j-1],rt=$[x+j]}}while((B=G[B&K])>O&&--h!=0);return j<=t.lookahead?j:t.lookahead}function st(t){var B,z,p,h,x,j,M,O,$,K,G=t.w_size;do{if(h=t.window_size-t.lookahead-t.strstart,t.strstart>=G+(G-Y)){for(i.arraySet(t.window,t.window,G,G,0),t.match_start-=G,t.strstart-=G,t.block_start-=G,B=z=t.hash_size;p=t.head[--B],t.head[B]=G<=p?p-G:0,--z;);for(B=z=G;p=t.prev[--B],t.prev[B]=G<=p?p-G:0,--z;);h+=G}if(t.strm.avail_in===0)break;if(j=t.strm,M=t.window,O=t.strstart+t.lookahead,$=h,K=void 0,K=j.avail_in,$<K&&(K=$),z=K===0?0:(j.avail_in-=K,i.arraySet(M,j.input,j.next_in,K,O),j.state.wrap===1?j.adler=l(j.adler,M,K,O):j.state.wrap===2&&(j.adler=y(j.adler,M,K,O)),j.next_in+=K,j.total_in+=K,K),t.lookahead+=z,t.lookahead+t.insert>=N)for(x=t.strstart-t.insert,t.ins_h=t.window[x],t.ins_h=(t.ins_h<<t.hash_shift^t.window[x+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[x+N-1])&t.hash_mask,t.prev[x&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=x,x++,t.insert--,!(t.lookahead+t.insert<N)););}while(t.lookahead<Y&&t.strm.avail_in!==0)}function lt(t,B){for(var z,p;;){if(t.lookahead<Y){if(st(t),t.lookahead<Y&&B===b)return s;if(t.lookahead===0)break}if(z=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),z!==0&&t.strstart-z<=t.w_size-Y&&(t.match_length=H(t,z)),t.match_length>=N)if(p=a._tr_tally(t,t.strstart-t.match_start,t.match_length-N),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=N){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else p=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(p&&(C(t,!1),t.strm.avail_out===0))return s}return t.insert=t.strstart<N-1?t.strstart:N-1,B===k?(C(t,!0),t.strm.avail_out===0?Q:W):t.last_lit&&(C(t,!1),t.strm.avail_out===0)?s:F}function et(t,B){for(var z,p,h;;){if(t.lookahead<Y){if(st(t),t.lookahead<Y&&B===b)return s;if(t.lookahead===0)break}if(z=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=N-1,z!==0&&t.prev_length<t.max_lazy_match&&t.strstart-z<=t.w_size-Y&&(t.match_length=H(t,z),t.match_length<=5&&(t.strategy===1||t.match_length===N&&4096<t.strstart-t.match_start)&&(t.match_length=N-1)),t.prev_length>=N&&t.match_length<=t.prev_length){for(h=t.strstart+t.lookahead-N,p=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-N),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=h&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,z=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=N-1,t.strstart++,p&&(C(t,!1),t.strm.avail_out===0))return s}else if(t.match_available){if((p=a._tr_tally(t,0,t.window[t.strstart-1]))&&C(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return s}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(p=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<N-1?t.strstart:N-1,B===k?(C(t,!0),t.strm.avail_out===0?Q:W):t.last_lit&&(C(t,!1),t.strm.avail_out===0)?s:F}function nt(t,B,z,p,h){this.good_length=t,this.max_lazy=B,this.nice_length=z,this.max_chain=p,this.func=h}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*R),this.dyn_dtree=new i.Buf16(2*(2*A+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(P+1),this.heap=new i.Buf16(2*I+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*I+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function at(t){var B;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=d,(B=t.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?v:T,t.adler=B.wrap===2?0:1,B.last_flush=b,a._tr_init(B),u):tt(t,m)}function ft(t){var B=at(t);return B===u&&(function(z){z.window_size=2*z.w_size,J(z.head),z.max_lazy_match=r[z.level].max_lazy,z.good_match=r[z.level].good_length,z.nice_match=r[z.level].nice_length,z.max_chain_length=r[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=N-1,z.match_available=0,z.ins_h=0})(t.state),B}function ht(t,B,z,p,h,x){if(!t)return m;var j=1;if(B===o&&(B=6),p<0?(j=0,p=-p):15<p&&(j=2,p-=16),h<1||E<h||z!==g||p<8||15<p||B<0||9<B||x<0||f<x)return tt(t,m);p===8&&(p=9);var M=new ut;return(t.state=M).strm=t,M.wrap=j,M.gzhead=null,M.w_bits=p,M.w_size=1<<M.w_bits,M.w_mask=M.w_size-1,M.hash_bits=h+7,M.hash_size=1<<M.hash_bits,M.hash_mask=M.hash_size-1,M.hash_shift=~~((M.hash_bits+N-1)/N),M.window=new i.Buf8(2*M.w_size),M.head=new i.Buf16(M.hash_size),M.prev=new i.Buf16(M.w_size),M.lit_bufsize=1<<h+6,M.pending_buf_size=4*M.lit_bufsize,M.pending_buf=new i.Buf8(M.pending_buf_size),M.d_buf=1*M.lit_bufsize,M.l_buf=3*M.lit_bufsize,M.level=B,M.strategy=x,M.method=z,ft(t)}r=[new nt(0,0,0,0,function(t,B){var z=65535;for(z>t.pending_buf_size-5&&(z=t.pending_buf_size-5);;){if(t.lookahead<=1){if(st(t),t.lookahead===0&&B===b)return s;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var p=t.block_start+z;if((t.strstart===0||t.strstart>=p)&&(t.lookahead=t.strstart-p,t.strstart=p,C(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Y&&(C(t,!1),t.strm.avail_out===0))return s}return t.insert=0,B===k?(C(t,!0),t.strm.avail_out===0?Q:W):(t.strstart>t.block_start&&(C(t,!1),t.strm.avail_out),s)}),new nt(4,4,8,4,lt),new nt(4,5,16,8,lt),new nt(4,6,32,32,lt),new nt(4,4,16,16,et),new nt(8,16,32,32,et),new nt(8,16,128,128,et),new nt(8,32,128,256,et),new nt(32,128,258,1024,et),new nt(32,258,258,4096,et)],n.deflateInit=function(t,B){return ht(t,B,g,15,8,0)},n.deflateInit2=ht,n.deflateReset=ft,n.deflateResetKeep=at,n.deflateSetHeader=function(t,B){return t&&t.state?t.state.wrap!==2?m:(t.state.gzhead=B,u):m},n.deflate=function(t,B){var z,p,h,x;if(!t||!t.state||5<B||B<0)return t?tt(t,m):m;if(p=t.state,!t.output||!t.input&&t.avail_in!==0||p.status===666&&B!==k)return tt(t,t.avail_out===0?-5:m);if(p.strm=t,z=p.last_flush,p.last_flush=B,p.status===v)if(p.wrap===2)t.adler=0,X(p,31),X(p,139),X(p,8),p.gzhead?(X(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),X(p,255&p.gzhead.time),X(p,p.gzhead.time>>8&255),X(p,p.gzhead.time>>16&255),X(p,p.gzhead.time>>24&255),X(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),X(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&(X(p,255&p.gzhead.extra.length),X(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(t.adler=y(t.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):(X(p,0),X(p,0),X(p,0),X(p,0),X(p,0),X(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),X(p,3),p.status=T);else{var j=g+(p.w_bits-8<<4)<<8;j|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(j|=32),j+=31-j%31,p.status=T,q(p,j),p.strstart!==0&&(q(p,t.adler>>>16),q(p,65535&t.adler)),t.adler=1}if(p.status===69)if(p.gzhead.extra){for(h=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),D(t),h=p.pending,p.pending!==p.pending_buf_size));)X(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){h=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),D(t),h=p.pending,p.pending===p.pending_buf_size)){x=1;break}x=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,X(p,x)}while(x!==0);p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),x===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){h=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),D(t),h=p.pending,p.pending===p.pending_buf_size)){x=1;break}x=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,X(p,x)}while(x!==0);p.gzhead.hcrc&&p.pending>h&&(t.adler=y(t.adler,p.pending_buf,p.pending-h,h)),x===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&D(t),p.pending+2<=p.pending_buf_size&&(X(p,255&t.adler),X(p,t.adler>>8&255),t.adler=0,p.status=T)):p.status=T),p.pending!==0){if(D(t),t.avail_out===0)return p.last_flush=-1,u}else if(t.avail_in===0&&Z(B)<=Z(z)&&B!==k)return tt(t,-5);if(p.status===666&&t.avail_in!==0)return tt(t,-5);if(t.avail_in!==0||p.lookahead!==0||B!==b&&p.status!==666){var M=p.strategy===2?(function(O,$){for(var K;;){if(O.lookahead===0&&(st(O),O.lookahead===0)){if($===b)return s;break}if(O.match_length=0,K=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,K&&(C(O,!1),O.strm.avail_out===0))return s}return O.insert=0,$===k?(C(O,!0),O.strm.avail_out===0?Q:W):O.last_lit&&(C(O,!1),O.strm.avail_out===0)?s:F})(p,B):p.strategy===3?(function(O,$){for(var K,G,V,it,rt=O.window;;){if(O.lookahead<=U){if(st(O),O.lookahead<=U&&$===b)return s;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=N&&0<O.strstart&&(G=rt[V=O.strstart-1])===rt[++V]&&G===rt[++V]&&G===rt[++V]){it=O.strstart+U;do;while(G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&G===rt[++V]&&V<it);O.match_length=U-(it-V),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=N?(K=a._tr_tally(O,1,O.match_length-N),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(K=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),K&&(C(O,!1),O.strm.avail_out===0))return s}return O.insert=0,$===k?(C(O,!0),O.strm.avail_out===0?Q:W):O.last_lit&&(C(O,!1),O.strm.avail_out===0)?s:F})(p,B):r[p.level].func(p,B);if(M!==Q&&M!==W||(p.status=666),M===s||M===Q)return t.avail_out===0&&(p.last_flush=-1),u;if(M===F&&(B===1?a._tr_align(p):B!==5&&(a._tr_stored_block(p,0,0,!1),B===3&&(J(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),D(t),t.avail_out===0))return p.last_flush=-1,u}return B!==k?u:p.wrap<=0?1:(p.wrap===2?(X(p,255&t.adler),X(p,t.adler>>8&255),X(p,t.adler>>16&255),X(p,t.adler>>24&255),X(p,255&t.total_in),X(p,t.total_in>>8&255),X(p,t.total_in>>16&255),X(p,t.total_in>>24&255)):(q(p,t.adler>>>16),q(p,65535&t.adler)),D(t),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?u:1)},n.deflateEnd=function(t){var B;return t&&t.state?(B=t.state.status)!==v&&B!==69&&B!==73&&B!==91&&B!==103&&B!==T&&B!==666?tt(t,m):(t.state=null,B===T?tt(t,-3):u):m},n.deflateSetDictionary=function(t,B){var z,p,h,x,j,M,O,$,K=B.length;if(!t||!t.state||(x=(z=t.state).wrap)===2||x===1&&z.status!==v||z.lookahead)return m;for(x===1&&(t.adler=l(t.adler,B,K,0)),z.wrap=0,K>=z.w_size&&(x===0&&(J(z.head),z.strstart=0,z.block_start=0,z.insert=0),$=new i.Buf8(z.w_size),i.arraySet($,B,K-z.w_size,z.w_size,0),B=$,K=z.w_size),j=t.avail_in,M=t.next_in,O=t.input,t.avail_in=K,t.next_in=0,t.input=B,st(z);z.lookahead>=N;){for(p=z.strstart,h=z.lookahead-(N-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[p+N-1])&z.hash_mask,z.prev[p&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=p,p++,--h;);z.strstart=p,z.lookahead=N-1,st(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=N-1,z.match_available=0,t.next_in=M,t.input=O,t.avail_in=j,z.wrap=x,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,c,n){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,c,n){c.exports=function(r,i){var a,l,y,w,b,k,u,m,o,f,d,g,E,I,A,L,R,P,N,U,Y,v,T,s,F;a=r.state,l=r.next_in,s=r.input,y=l+(r.avail_in-5),w=r.next_out,F=r.output,b=w-(i-r.avail_out),k=w+(r.avail_out-257),u=a.dmax,m=a.wsize,o=a.whave,f=a.wnext,d=a.window,g=a.hold,E=a.bits,I=a.lencode,A=a.distcode,L=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;t:do{E<15&&(g+=s[l++]<<E,E+=8,g+=s[l++]<<E,E+=8),P=I[g&L];e:for(;;){if(g>>>=N=P>>>24,E-=N,(N=P>>>16&255)===0)F[w++]=65535&P;else{if(!(16&N)){if((64&N)==0){P=I[(65535&P)+(g&(1<<N)-1)];continue e}if(32&N){a.mode=12;break t}r.msg="invalid literal/length code",a.mode=30;break t}U=65535&P,(N&=15)&&(E<N&&(g+=s[l++]<<E,E+=8),U+=g&(1<<N)-1,g>>>=N,E-=N),E<15&&(g+=s[l++]<<E,E+=8,g+=s[l++]<<E,E+=8),P=A[g&R];r:for(;;){if(g>>>=N=P>>>24,E-=N,!(16&(N=P>>>16&255))){if((64&N)==0){P=A[(65535&P)+(g&(1<<N)-1)];continue r}r.msg="invalid distance code",a.mode=30;break t}if(Y=65535&P,E<(N&=15)&&(g+=s[l++]<<E,(E+=8)<N&&(g+=s[l++]<<E,E+=8)),u<(Y+=g&(1<<N)-1)){r.msg="invalid distance too far back",a.mode=30;break t}if(g>>>=N,E-=N,(N=w-b)<Y){if(o<(N=Y-N)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break t}if(T=d,(v=0)===f){if(v+=m-N,N<U){for(U-=N;F[w++]=d[v++],--N;);v=w-Y,T=F}}else if(f<N){if(v+=m+f-N,(N-=f)<U){for(U-=N;F[w++]=d[v++],--N;);if(v=0,f<U){for(U-=N=f;F[w++]=d[v++],--N;);v=w-Y,T=F}}}else if(v+=f-N,N<U){for(U-=N;F[w++]=d[v++],--N;);v=w-Y,T=F}for(;2<U;)F[w++]=T[v++],F[w++]=T[v++],F[w++]=T[v++],U-=3;U&&(F[w++]=T[v++],1<U&&(F[w++]=T[v++]))}else{for(v=w-Y;F[w++]=F[v++],F[w++]=F[v++],F[w++]=F[v++],2<(U-=3););U&&(F[w++]=F[v++],1<U&&(F[w++]=F[v++]))}break}}break}}while(l<y&&w<k);l-=U=E>>3,g&=(1<<(E-=U<<3))-1,r.next_in=l,r.next_out=w,r.avail_in=l<y?y-l+5:5-(l-y),r.avail_out=w<k?k-w+257:257-(w-k),a.hold=g,a.bits=E}},{}],49:[function(e,c,n){var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),l=e("./inffast"),y=e("./inftrees"),w=1,b=2,k=0,u=-2,m=1,o=852,f=592;function d(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(v){var T;return v&&v.state?(T=v.state,v.total_in=v.total_out=T.total=0,v.msg="",T.wrap&&(v.adler=1&T.wrap),T.mode=m,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(o),T.distcode=T.distdyn=new r.Buf32(f),T.sane=1,T.back=-1,k):u}function I(v){var T;return v&&v.state?((T=v.state).wsize=0,T.whave=0,T.wnext=0,E(v)):u}function A(v,T){var s,F;return v&&v.state?(F=v.state,T<0?(s=0,T=-T):(s=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?u:(F.window!==null&&F.wbits!==T&&(F.window=null),F.wrap=s,F.wbits=T,I(v))):u}function L(v,T){var s,F;return v?(F=new g,(v.state=F).window=null,(s=A(v,T))!==k&&(v.state=null),s):u}var R,P,N=!0;function U(v){if(N){var T;for(R=new r.Buf32(512),P=new r.Buf32(32),T=0;T<144;)v.lens[T++]=8;for(;T<256;)v.lens[T++]=9;for(;T<280;)v.lens[T++]=7;for(;T<288;)v.lens[T++]=8;for(y(w,v.lens,0,288,R,0,v.work,{bits:9}),T=0;T<32;)v.lens[T++]=5;y(b,v.lens,0,32,P,0,v.work,{bits:5}),N=!1}v.lencode=R,v.lenbits=9,v.distcode=P,v.distbits=5}function Y(v,T,s,F){var Q,W=v.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new r.Buf8(W.wsize)),F>=W.wsize?(r.arraySet(W.window,T,s-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(F<(Q=W.wsize-W.wnext)&&(Q=F),r.arraySet(W.window,T,s-F,Q,W.wnext),(F-=Q)?(r.arraySet(W.window,T,s-F,F,0),W.wnext=F,W.whave=W.wsize):(W.wnext+=Q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=Q))),0}n.inflateReset=I,n.inflateReset2=A,n.inflateResetKeep=E,n.inflateInit=function(v){return L(v,15)},n.inflateInit2=L,n.inflate=function(v,T){var s,F,Q,W,tt,Z,J,D,C,X,q,H,st,lt,et,nt,ut,at,ft,ht,t,B,z,p,h=0,x=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return u;(s=v.state).mode===12&&(s.mode=13),tt=v.next_out,Q=v.output,J=v.avail_out,W=v.next_in,F=v.input,Z=v.avail_in,D=s.hold,C=s.bits,X=Z,q=J,B=k;t:for(;;)switch(s.mode){case m:if(s.wrap===0){s.mode=13;break}for(;C<16;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(2&s.wrap&&D===35615){x[s.check=0]=255&D,x[1]=D>>>8&255,s.check=a(s.check,x,2,0),C=D=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&D)<<8)+(D>>8))%31){v.msg="incorrect header check",s.mode=30;break}if((15&D)!=8){v.msg="unknown compression method",s.mode=30;break}if(C-=4,t=8+(15&(D>>>=4)),s.wbits===0)s.wbits=t;else if(t>s.wbits){v.msg="invalid window size",s.mode=30;break}s.dmax=1<<t,v.adler=s.check=1,s.mode=512&D?10:12,C=D=0;break;case 2:for(;C<16;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(s.flags=D,(255&s.flags)!=8){v.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){v.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=D>>8&1),512&s.flags&&(x[0]=255&D,x[1]=D>>>8&255,s.check=a(s.check,x,2,0)),C=D=0,s.mode=3;case 3:for(;C<32;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.head&&(s.head.time=D),512&s.flags&&(x[0]=255&D,x[1]=D>>>8&255,x[2]=D>>>16&255,x[3]=D>>>24&255,s.check=a(s.check,x,4,0)),C=D=0,s.mode=4;case 4:for(;C<16;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.head&&(s.head.xflags=255&D,s.head.os=D>>8),512&s.flags&&(x[0]=255&D,x[1]=D>>>8&255,s.check=a(s.check,x,2,0)),C=D=0,s.mode=5;case 5:if(1024&s.flags){for(;C<16;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.length=D,s.head&&(s.head.extra_len=D),512&s.flags&&(x[0]=255&D,x[1]=D>>>8&255,s.check=a(s.check,x,2,0)),C=D=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(Z<(H=s.length)&&(H=Z),H&&(s.head&&(t=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),r.arraySet(s.head.extra,F,W,H,t)),512&s.flags&&(s.check=a(s.check,F,H,W)),Z-=H,W+=H,s.length-=H),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(Z===0)break t;for(H=0;t=F[W+H++],s.head&&t&&s.length<65536&&(s.head.name+=String.fromCharCode(t)),t&&H<Z;);if(512&s.flags&&(s.check=a(s.check,F,H,W)),Z-=H,W+=H,t)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(Z===0)break t;for(H=0;t=F[W+H++],s.head&&t&&s.length<65536&&(s.head.comment+=String.fromCharCode(t)),t&&H<Z;);if(512&s.flags&&(s.check=a(s.check,F,H,W)),Z-=H,W+=H,t)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;C<16;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(D!==(65535&s.check)){v.msg="header crc mismatch",s.mode=30;break}C=D=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),v.adler=s.check=0,s.mode=12;break;case 10:for(;C<32;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}v.adler=s.check=d(D),C=D=0,s.mode=11;case 11:if(s.havedict===0)return v.next_out=tt,v.avail_out=J,v.next_in=W,v.avail_in=Z,s.hold=D,s.bits=C,2;v.adler=s.check=1,s.mode=12;case 12:if(T===5||T===6)break t;case 13:if(s.last){D>>>=7&C,C-=7&C,s.mode=27;break}for(;C<3;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}switch(s.last=1&D,C-=1,3&(D>>>=1)){case 0:s.mode=14;break;case 1:if(U(s),s.mode=20,T!==6)break;D>>>=2,C-=2;break t;case 2:s.mode=17;break;case 3:v.msg="invalid block type",s.mode=30}D>>>=2,C-=2;break;case 14:for(D>>>=7&C,C-=7&C;C<32;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if((65535&D)!=(D>>>16^65535)){v.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&D,C=D=0,s.mode=15,T===6)break t;case 15:s.mode=16;case 16:if(H=s.length){if(Z<H&&(H=Z),J<H&&(H=J),H===0)break t;r.arraySet(Q,F,W,H,tt),Z-=H,W+=H,J-=H,tt+=H,s.length-=H;break}s.mode=12;break;case 17:for(;C<14;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(s.nlen=257+(31&D),D>>>=5,C-=5,s.ndist=1+(31&D),D>>>=5,C-=5,s.ncode=4+(15&D),D>>>=4,C-=4,286<s.nlen||30<s.ndist){v.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;C<3;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.lens[j[s.have++]]=7&D,D>>>=3,C-=3}for(;s.have<19;)s.lens[j[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,z={bits:s.lenbits},B=y(0,s.lens,0,19,s.lencode,0,s.work,z),s.lenbits=z.bits,B){v.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;nt=(h=s.lencode[D&(1<<s.lenbits)-1])>>>16&255,ut=65535&h,!((et=h>>>24)<=C);){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(ut<16)D>>>=et,C-=et,s.lens[s.have++]=ut;else{if(ut===16){for(p=et+2;C<p;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(D>>>=et,C-=et,s.have===0){v.msg="invalid bit length repeat",s.mode=30;break}t=s.lens[s.have-1],H=3+(3&D),D>>>=2,C-=2}else if(ut===17){for(p=et+3;C<p;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}C-=et,t=0,H=3+(7&(D>>>=et)),D>>>=3,C-=3}else{for(p=et+7;C<p;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}C-=et,t=0,H=11+(127&(D>>>=et)),D>>>=7,C-=7}if(s.have+H>s.nlen+s.ndist){v.msg="invalid bit length repeat",s.mode=30;break}for(;H--;)s.lens[s.have++]=t}}if(s.mode===30)break;if(s.lens[256]===0){v.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,z={bits:s.lenbits},B=y(w,s.lens,0,s.nlen,s.lencode,0,s.work,z),s.lenbits=z.bits,B){v.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,z={bits:s.distbits},B=y(b,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,z),s.distbits=z.bits,B){v.msg="invalid distances set",s.mode=30;break}if(s.mode=20,T===6)break t;case 20:s.mode=21;case 21:if(6<=Z&&258<=J){v.next_out=tt,v.avail_out=J,v.next_in=W,v.avail_in=Z,s.hold=D,s.bits=C,l(v,q),tt=v.next_out,Q=v.output,J=v.avail_out,W=v.next_in,F=v.input,Z=v.avail_in,D=s.hold,C=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;nt=(h=s.lencode[D&(1<<s.lenbits)-1])>>>16&255,ut=65535&h,!((et=h>>>24)<=C);){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(nt&&(240&nt)==0){for(at=et,ft=nt,ht=ut;nt=(h=s.lencode[ht+((D&(1<<at+ft)-1)>>at)])>>>16&255,ut=65535&h,!(at+(et=h>>>24)<=C);){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}D>>>=at,C-=at,s.back+=at}if(D>>>=et,C-=et,s.back+=et,s.length=ut,nt===0){s.mode=26;break}if(32&nt){s.back=-1,s.mode=12;break}if(64&nt){v.msg="invalid literal/length code",s.mode=30;break}s.extra=15&nt,s.mode=22;case 22:if(s.extra){for(p=s.extra;C<p;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.length+=D&(1<<s.extra)-1,D>>>=s.extra,C-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;nt=(h=s.distcode[D&(1<<s.distbits)-1])>>>16&255,ut=65535&h,!((et=h>>>24)<=C);){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if((240&nt)==0){for(at=et,ft=nt,ht=ut;nt=(h=s.distcode[ht+((D&(1<<at+ft)-1)>>at)])>>>16&255,ut=65535&h,!(at+(et=h>>>24)<=C);){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}D>>>=at,C-=at,s.back+=at}if(D>>>=et,C-=et,s.back+=et,64&nt){v.msg="invalid distance code",s.mode=30;break}s.offset=ut,s.extra=15&nt,s.mode=24;case 24:if(s.extra){for(p=s.extra;C<p;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}s.offset+=D&(1<<s.extra)-1,D>>>=s.extra,C-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){v.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(J===0)break t;if(H=q-J,s.offset>H){if((H=s.offset-H)>s.whave&&s.sane){v.msg="invalid distance too far back",s.mode=30;break}st=H>s.wnext?(H-=s.wnext,s.wsize-H):s.wnext-H,H>s.length&&(H=s.length),lt=s.window}else lt=Q,st=tt-s.offset,H=s.length;for(J<H&&(H=J),J-=H,s.length-=H;Q[tt++]=lt[st++],--H;);s.length===0&&(s.mode=21);break;case 26:if(J===0)break t;Q[tt++]=s.length,J--,s.mode=21;break;case 27:if(s.wrap){for(;C<32;){if(Z===0)break t;Z--,D|=F[W++]<<C,C+=8}if(q-=J,v.total_out+=q,s.total+=q,q&&(v.adler=s.check=s.flags?a(s.check,Q,q,tt-q):i(s.check,Q,q,tt-q)),q=J,(s.flags?D:d(D))!==s.check){v.msg="incorrect data check",s.mode=30;break}C=D=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;C<32;){if(Z===0)break t;Z--,D+=F[W++]<<C,C+=8}if(D!==(4294967295&s.total)){v.msg="incorrect length check",s.mode=30;break}C=D=0}s.mode=29;case 29:B=1;break t;case 30:B=-3;break t;case 31:return-4;default:return u}return v.next_out=tt,v.avail_out=J,v.next_in=W,v.avail_in=Z,s.hold=D,s.bits=C,(s.wsize||q!==v.avail_out&&s.mode<30&&(s.mode<27||T!==4))&&Y(v,v.output,v.next_out,q-v.avail_out)?(s.mode=31,-4):(X-=v.avail_in,q-=v.avail_out,v.total_in+=X,v.total_out+=q,s.total+=q,s.wrap&&q&&(v.adler=s.check=s.flags?a(s.check,Q,q,v.next_out-q):i(s.check,Q,q,v.next_out-q)),v.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(X==0&&q===0||T===4)&&B===k&&(B=-5),B)},n.inflateEnd=function(v){if(!v||!v.state)return u;var T=v.state;return T.window&&(T.window=null),v.state=null,k},n.inflateGetHeader=function(v,T){var s;return v&&v.state?(2&(s=v.state).wrap)==0?u:((s.head=T).done=!1,k):u},n.inflateSetDictionary=function(v,T){var s,F=T.length;return v&&v.state?(s=v.state).wrap!==0&&s.mode!==11?u:s.mode===11&&i(1,T,F,0)!==s.check?-3:Y(v,T,F,F)?(s.mode=31,-4):(s.havedict=1,k):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,c,n){var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(w,b,k,u,m,o,f,d){var g,E,I,A,L,R,P,N,U,Y=d.bits,v=0,T=0,s=0,F=0,Q=0,W=0,tt=0,Z=0,J=0,D=0,C=null,X=0,q=new r.Buf16(16),H=new r.Buf16(16),st=null,lt=0;for(v=0;v<=15;v++)q[v]=0;for(T=0;T<u;T++)q[b[k+T]]++;for(Q=Y,F=15;1<=F&&q[F]===0;F--);if(F<Q&&(Q=F),F===0)return m[o++]=20971520,m[o++]=20971520,d.bits=1,0;for(s=1;s<F&&q[s]===0;s++);for(Q<s&&(Q=s),v=Z=1;v<=15;v++)if(Z<<=1,(Z-=q[v])<0)return-1;if(0<Z&&(w===0||F!==1))return-1;for(H[1]=0,v=1;v<15;v++)H[v+1]=H[v]+q[v];for(T=0;T<u;T++)b[k+T]!==0&&(f[H[b[k+T]]++]=T);if(R=w===0?(C=st=f,19):w===1?(C=i,X-=257,st=a,lt-=257,256):(C=l,st=y,-1),v=s,L=o,tt=T=D=0,I=-1,A=(J=1<<(W=Q))-1,w===1&&852<J||w===2&&592<J)return 1;for(;;){for(P=v-tt,U=f[T]<R?(N=0,f[T]):f[T]>R?(N=st[lt+f[T]],C[X+f[T]]):(N=96,0),g=1<<v-tt,s=E=1<<W;m[L+(D>>tt)+(E-=g)]=P<<24|N<<16|U|0,E!==0;);for(g=1<<v-1;D&g;)g>>=1;if(g!==0?(D&=g-1,D+=g):D=0,T++,--q[v]==0){if(v===F)break;v=b[k+f[T]]}if(Q<v&&(D&A)!==I){for(tt===0&&(tt=Q),L+=s,Z=1<<(W=v-tt);W+tt<F&&!((Z-=q[W+tt])<=0);)W++,Z<<=1;if(J+=1<<W,w===1&&852<J||w===2&&592<J)return 1;m[I=D&A]=Q<<24|W<<16|L-o|0}}return D!==0&&(m[L+D]=v-tt<<24|64<<16|0),d.bits=Q,0}},{"../utils/common":41}],51:[function(e,c,n){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,c,n){var r=e("../utils/common"),i=0,a=1;function l(h){for(var x=h.length;0<=--x;)h[x]=0}var y=0,w=29,b=256,k=b+1+w,u=30,m=19,o=2*k+1,f=15,d=16,g=7,E=256,I=16,A=17,L=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(k+2));l(Y);var v=new Array(2*u);l(v);var T=new Array(512);l(T);var s=new Array(256);l(s);var F=new Array(w);l(F);var Q,W,tt,Z=new Array(u);function J(h,x,j,M,O){this.static_tree=h,this.extra_bits=x,this.extra_base=j,this.elems=M,this.max_length=O,this.has_stree=h&&h.length}function D(h,x){this.dyn_tree=h,this.max_code=0,this.stat_desc=x}function C(h){return h<256?T[h]:T[256+(h>>>7)]}function X(h,x){h.pending_buf[h.pending++]=255&x,h.pending_buf[h.pending++]=x>>>8&255}function q(h,x,j){h.bi_valid>d-j?(h.bi_buf|=x<<h.bi_valid&65535,X(h,h.bi_buf),h.bi_buf=x>>d-h.bi_valid,h.bi_valid+=j-d):(h.bi_buf|=x<<h.bi_valid&65535,h.bi_valid+=j)}function H(h,x,j){q(h,j[2*x],j[2*x+1])}function st(h,x){for(var j=0;j|=1&h,h>>>=1,j<<=1,0<--x;);return j>>>1}function lt(h,x,j){var M,O,$=new Array(f+1),K=0;for(M=1;M<=f;M++)$[M]=K=K+j[M-1]<<1;for(O=0;O<=x;O++){var G=h[2*O+1];G!==0&&(h[2*O]=st($[G]++,G))}}function et(h){var x;for(x=0;x<k;x++)h.dyn_ltree[2*x]=0;for(x=0;x<u;x++)h.dyn_dtree[2*x]=0;for(x=0;x<m;x++)h.bl_tree[2*x]=0;h.dyn_ltree[2*E]=1,h.opt_len=h.static_len=0,h.last_lit=h.matches=0}function nt(h){8<h.bi_valid?X(h,h.bi_buf):0<h.bi_valid&&(h.pending_buf[h.pending++]=h.bi_buf),h.bi_buf=0,h.bi_valid=0}function ut(h,x,j,M){var O=2*x,$=2*j;return h[O]<h[$]||h[O]===h[$]&&M[x]<=M[j]}function at(h,x,j){for(var M=h.heap[j],O=j<<1;O<=h.heap_len&&(O<h.heap_len&&ut(x,h.heap[O+1],h.heap[O],h.depth)&&O++,!ut(x,M,h.heap[O],h.depth));)h.heap[j]=h.heap[O],j=O,O<<=1;h.heap[j]=M}function ft(h,x,j){var M,O,$,K,G=0;if(h.last_lit!==0)for(;M=h.pending_buf[h.d_buf+2*G]<<8|h.pending_buf[h.d_buf+2*G+1],O=h.pending_buf[h.l_buf+G],G++,M===0?H(h,O,x):(H(h,($=s[O])+b+1,x),(K=R[$])!==0&&q(h,O-=F[$],K),H(h,$=C(--M),j),(K=P[$])!==0&&q(h,M-=Z[$],K)),G<h.last_lit;);H(h,E,x)}function ht(h,x){var j,M,O,$=x.dyn_tree,K=x.stat_desc.static_tree,G=x.stat_desc.has_stree,V=x.stat_desc.elems,it=-1;for(h.heap_len=0,h.heap_max=o,j=0;j<V;j++)$[2*j]!==0?(h.heap[++h.heap_len]=it=j,h.depth[j]=0):$[2*j+1]=0;for(;h.heap_len<2;)$[2*(O=h.heap[++h.heap_len]=it<2?++it:0)]=1,h.depth[O]=0,h.opt_len--,G&&(h.static_len-=K[2*O+1]);for(x.max_code=it,j=h.heap_len>>1;1<=j;j--)at(h,$,j);for(O=V;j=h.heap[1],h.heap[1]=h.heap[h.heap_len--],at(h,$,1),M=h.heap[1],h.heap[--h.heap_max]=j,h.heap[--h.heap_max]=M,$[2*O]=$[2*j]+$[2*M],h.depth[O]=(h.depth[j]>=h.depth[M]?h.depth[j]:h.depth[M])+1,$[2*j+1]=$[2*M+1]=O,h.heap[1]=O++,at(h,$,1),2<=h.heap_len;);h.heap[--h.heap_max]=h.heap[1],(function(rt,dt){var vt,pt,yt,ot,wt,xt,mt=dt.dyn_tree,Dt=dt.max_code,Wt=dt.stat_desc.static_tree,Zt=dt.stat_desc.has_stree,$t=dt.stat_desc.extra_bits,zt=dt.stat_desc.extra_base,bt=dt.stat_desc.max_length,kt=0;for(ot=0;ot<=f;ot++)rt.bl_count[ot]=0;for(mt[2*rt.heap[rt.heap_max]+1]=0,vt=rt.heap_max+1;vt<o;vt++)bt<(ot=mt[2*mt[2*(pt=rt.heap[vt])+1]+1]+1)&&(ot=bt,kt++),mt[2*pt+1]=ot,Dt<pt||(rt.bl_count[ot]++,wt=0,zt<=pt&&(wt=$t[pt-zt]),xt=mt[2*pt],rt.opt_len+=xt*(ot+wt),Zt&&(rt.static_len+=xt*(Wt[2*pt+1]+wt)));if(kt!==0){do{for(ot=bt-1;rt.bl_count[ot]===0;)ot--;rt.bl_count[ot]--,rt.bl_count[ot+1]+=2,rt.bl_count[bt]--,kt-=2}while(0<kt);for(ot=bt;ot!==0;ot--)for(pt=rt.bl_count[ot];pt!==0;)Dt<(yt=rt.heap[--vt])||(mt[2*yt+1]!==ot&&(rt.opt_len+=(ot-mt[2*yt+1])*mt[2*yt],mt[2*yt+1]=ot),pt--)}})(h,x),lt($,it,h.bl_count)}function t(h,x,j){var M,O,$=-1,K=x[1],G=0,V=7,it=4;for(K===0&&(V=138,it=3),x[2*(j+1)+1]=65535,M=0;M<=j;M++)O=K,K=x[2*(M+1)+1],++G<V&&O===K||(G<it?h.bl_tree[2*O]+=G:O!==0?(O!==$&&h.bl_tree[2*O]++,h.bl_tree[2*I]++):G<=10?h.bl_tree[2*A]++:h.bl_tree[2*L]++,$=O,it=(G=0)===K?(V=138,3):O===K?(V=6,3):(V=7,4))}function B(h,x,j){var M,O,$=-1,K=x[1],G=0,V=7,it=4;for(K===0&&(V=138,it=3),M=0;M<=j;M++)if(O=K,K=x[2*(M+1)+1],!(++G<V&&O===K)){if(G<it)for(;H(h,O,h.bl_tree),--G!=0;);else O!==0?(O!==$&&(H(h,O,h.bl_tree),G--),H(h,I,h.bl_tree),q(h,G-3,2)):G<=10?(H(h,A,h.bl_tree),q(h,G-3,3)):(H(h,L,h.bl_tree),q(h,G-11,7));$=O,it=(G=0)===K?(V=138,3):O===K?(V=6,3):(V=7,4)}}l(Z);var z=!1;function p(h,x,j,M){q(h,(y<<1)+(M?1:0),3),(function(O,$,K,G){nt(O),X(O,K),X(O,~K),r.arraySet(O.pending_buf,O.window,$,K,O.pending),O.pending+=K})(h,x,j)}n._tr_init=function(h){z||((function(){var x,j,M,O,$,K=new Array(f+1);for(O=M=0;O<w-1;O++)for(F[O]=M,x=0;x<1<<R[O];x++)s[M++]=O;for(s[M-1]=O,O=$=0;O<16;O++)for(Z[O]=$,x=0;x<1<<P[O];x++)T[$++]=O;for($>>=7;O<u;O++)for(Z[O]=$<<7,x=0;x<1<<P[O]-7;x++)T[256+$++]=O;for(j=0;j<=f;j++)K[j]=0;for(x=0;x<=143;)Y[2*x+1]=8,x++,K[8]++;for(;x<=255;)Y[2*x+1]=9,x++,K[9]++;for(;x<=279;)Y[2*x+1]=7,x++,K[7]++;for(;x<=287;)Y[2*x+1]=8,x++,K[8]++;for(lt(Y,k+1,K),x=0;x<u;x++)v[2*x+1]=5,v[2*x]=st(x,5);Q=new J(Y,R,b+1,k,f),W=new J(v,P,0,u,f),tt=new J(new Array(0),N,0,m,g)})(),z=!0),h.l_desc=new D(h.dyn_ltree,Q),h.d_desc=new D(h.dyn_dtree,W),h.bl_desc=new D(h.bl_tree,tt),h.bi_buf=0,h.bi_valid=0,et(h)},n._tr_stored_block=p,n._tr_flush_block=function(h,x,j,M){var O,$,K=0;0<h.level?(h.strm.data_type===2&&(h.strm.data_type=(function(G){var V,it=4093624447;for(V=0;V<=31;V++,it>>>=1)if(1&it&&G.dyn_ltree[2*V]!==0)return i;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(V=32;V<b;V++)if(G.dyn_ltree[2*V]!==0)return a;return i})(h)),ht(h,h.l_desc),ht(h,h.d_desc),K=(function(G){var V;for(t(G,G.dyn_ltree,G.l_desc.max_code),t(G,G.dyn_dtree,G.d_desc.max_code),ht(G,G.bl_desc),V=m-1;3<=V&&G.bl_tree[2*U[V]+1]===0;V--);return G.opt_len+=3*(V+1)+5+5+4,V})(h),O=h.opt_len+3+7>>>3,($=h.static_len+3+7>>>3)<=O&&(O=$)):O=$=j+5,j+4<=O&&x!==-1?p(h,x,j,M):h.strategy===4||$===O?(q(h,2+(M?1:0),3),ft(h,Y,v)):(q(h,4+(M?1:0),3),(function(G,V,it,rt){var dt;for(q(G,V-257,5),q(G,it-1,5),q(G,rt-4,4),dt=0;dt<rt;dt++)q(G,G.bl_tree[2*U[dt]+1],3);B(G,G.dyn_ltree,V-1),B(G,G.dyn_dtree,it-1)})(h,h.l_desc.max_code+1,h.d_desc.max_code+1,K+1),ft(h,h.dyn_ltree,h.dyn_dtree)),et(h),M&&nt(h)},n._tr_tally=function(h,x,j){return h.pending_buf[h.d_buf+2*h.last_lit]=x>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&x,h.pending_buf[h.l_buf+h.last_lit]=255&j,h.last_lit++,x===0?h.dyn_ltree[2*j]++:(h.matches++,x--,h.dyn_ltree[2*(s[j]+b+1)]++,h.dyn_dtree[2*C(x)]++),h.last_lit===h.lit_bufsize-1},n._tr_align=function(h){q(h,2,3),H(h,E,Y),(function(x){x.bi_valid===16?(X(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)})(h)}},{"../utils/common":41}],53:[function(e,c,n){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,c,n){(function(r){(function(i,a){if(!i.setImmediate){var l,y,w,b,k=1,u={},m=!1,o=i.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(i);f=f&&f.setTimeout?f:i,l={}.toString.call(i.process)==="[object process]"?function(I){process.nextTick(function(){g(I)})}:(function(){if(i.postMessage&&!i.importScripts){var I=!0,A=i.onmessage;return i.onmessage=function(){I=!1},i.postMessage("","*"),i.onmessage=A,I}})()?(b="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",E,!1):i.attachEvent("onmessage",E),function(I){i.postMessage(b+I,"*")}):i.MessageChannel?((w=new MessageChannel).port1.onmessage=function(I){g(I.data)},function(I){w.port2.postMessage(I)}):o&&"onreadystatechange"in o.createElement("script")?(y=o.documentElement,function(I){var A=o.createElement("script");A.onreadystatechange=function(){g(I),A.onreadystatechange=null,y.removeChild(A),A=null},y.appendChild(A)}):function(I){setTimeout(g,0,I)},f.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var A=new Array(arguments.length-1),L=0;L<A.length;L++)A[L]=arguments[L+1];var R={callback:I,args:A};return u[k]=R,l(k),k++},f.clearImmediate=d}function d(I){delete u[I]}function g(I){if(m)setTimeout(g,0,I);else{var A=u[I];if(A){m=!0;try{(function(L){var R=L.callback,P=L.args;switch(P.length){case 0:R();break;case 1:R(P[0]);break;case 2:R(P[0],P[1]);break;case 3:R(P[0],P[1],P[2]);break;default:R.apply(a,P)}})(A)}finally{d(I),m=!1}}}}function E(I){I.source===i&&typeof I.data=="string"&&I.data.indexOf(b)===0&&g(+I.data.slice(b.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(At)),At.exports}var qt=Yt();const Kt=Gt(qt);function Rt(_,S){return e=>e[_]>S}function Tt(_){return _<0}function Vt(_,S){return Object.values(_.reduce((e,c)=>{let n=`_${c[S]}`;return e[n]||(e[n]=[]),e[n].push(c),e},{}))}function Xt(_){return _.some(Rt(0,12))?!0:_.some(Rt(1,12))?!1:null}function Jt(_){let S=Vt(_,2).map(e=>e.slice(1).some((c,n)=>{let[r]=e[n],[i]=c;return Tt(i-r)})?!0:e.slice(1).some((c,n)=>{let[,r]=e[n],[,i]=c;return Tt(i-r)})?!1:null);return S.some(e=>e===!0)?!0:S.some(e=>e===!1)?!1:null}function Qt(_){let S=_.slice(1).map((n,r)=>n.map((i,a)=>Math.abs(_[r][a]-i))),[e,c]=S.reduce((n,r)=>{let[i,a]=n,[l,y]=r;return[i+l,a+y]},[0,0]);return e>c?!0:e<c?!1:null}function te(_){let S=Xt(_);if(S!==null)return S;let e=Jt(_);return e!==null?e:Qt(_)}function ee(_,S,e){return[_.padStart(4,"2000"),S.padStart(2,"0"),e.padStart(2,"0")]}function Bt(_){let S=/[-/.] ?/,[e,c,n]=_.split(S),r=Math.max(e.length,c.length,n.length);return n.length===r?[e,c,n]:c.length===r?[e,n,c]:[c,n,e]}var Ct=/[:.]/;function re(_,S){let[e,c,n]=_.split(Ct);return e==="12"&&(e="00"),S==="PM"&&(e=String(parseInt(e,10)+12)),`${e}:${c}${n?`:${n}`:""}`}function ne(_){let[S,e,c]=_.split(Ct);return`${S.padStart(2,"0")}:${e}:${c||"00"}`}function ie(_){return _.replace(/[^apm]/gi,"").toUpperCase()}var jt=/^(?:\u200E|\u200F)*\[?(\d{1,4}[-/.]\s?\d{1,4}[-/.]\s?\d{1,4})[,.]?\s\D*?(\d{1,2}[.:]\d{1,2}(?:[.:]\d{1,2})?)(?:\s([ap]\.?\s?m\.?))?\]?(?:\s-|:)?\s/,se=/(.+?):\s([^]*)/,ae=/([^]+)/,Pt=new RegExp(jt.source+se.source,"i"),Mt=new RegExp(jt.source+ae.source,"i"),oe=/^(?:\u200E|\u200F)*(?:<.+:(.+)>|([\w-]+\.\w+)\s[(<].+[)>])/;function ue(_){return _.reduce((S,e)=>{if(Pt.test(e))S.push({system:!1,msg:e});else if(Mt.test(e))S.push({system:!0,msg:e});else if(typeof S[S.length-1]<"u"){let c=S.pop();S.push({system:c.system,msg:`${c.msg}
${e}`})}return S},[])}function le(_){let S=_.match(oe);return S?{fileName:(S[1]||S[2]).trim()}:null}function ce(_,S={}){let{daysFirst:e}=S,{parseAttachments:c}=S,n=_.map(r=>{let{system:i,msg:a}=r;if(i){let[,u,m,o,f]=Mt.exec(a);return{date:u,time:m,ampm:o||null,author:null,message:f}}let[,l,y,w,b,k]=Pt.exec(a);return{date:l,time:y,ampm:w||null,author:b,message:k}});if(typeof e!="boolean"){let r=Array.from(new Set(n.map(({date:i})=>i)),i=>Bt(i).map(Number));e=te(r)}return n.map(({date:r,time:i,ampm:a,author:l,message:y})=>{let w,b,k,u=Bt(r);e===!1?[b,w,k]=u:[w,b,k]=u,[k,b,w]=ee(k,b,w);let[m,o,f]=ne(a?re(i,ie(a)):i).split(Ct),d={date:new Date(+k,+b-1,+w,+m,+o,+f),author:l,message:y};if(c){let g=le(y);g&&(d.attachment=g)}return d})}var de=/(?:\r\n|\r|\n)/;function he(_,S={parseAttachments:!1}){let e=_.split(de);return ce(ue(e),S)}function fe(_,S,e){const c=_.fileName.toLowerCase(),n=c.split(".").pop()||"";return c.startsWith("img-")||["jpg","jpeg","png","gif","bmp"].includes(n)?{date:e,author:S,type:"image",fileName:_.fileName}:c.startsWith("vid-")||["mp4","3gp","avi","mov","mkv"].includes(n)?{date:e,author:S,type:"video",fileName:_.fileName}:c.startsWith("ptt-")||c.startsWith("aud-")||["opus","aac","m4a","mp3","ogg","wav"].includes(n)?{date:e,author:S,type:"audio",fileName:_.fileName}:c.startsWith("stk-")||n==="webp"?{date:e,author:S,type:"sticker",fileName:_.fileName}:n==="vcf"?{date:e,author:S,type:"contact",fileName:_.fileName}:["pdf","doc","docx","xls","xlsx","ppt","pptx","txt","zip","rar","7z"].includes(n)?{date:e,author:S,type:"document",fileName:_.fileName}:{date:e,author:S,type:"omitted",fileName:_.fileName}}function pe(_,S,e,c){if(/\(archivo adjunto\)$/i.test(_)||/\(file attached\)$/i.test(_)||/\u200e?<(adjunto|attached):\s*.+>$/i.test(_))return{date:e,author:S,type:"omitted",fileName:c?.fileName||null};const n={media_generic:/<Media omitted>|<Multimedia omitido>|<Archivo omitido>/i,image_es:/\u200e?imagen omitida/i,video_es:/\u200e?video omitido/i,audio_es:/\u200e?audio omitido/i,sticker_es:/\u200e?sticker omitido/i,gif_es:/\u200e?GIF omitido/i,document_es:/\u200e?documento omitido/i,contact_es:/\u200e?contacto omitido/i,image_en:/\u200e?image omitted/i,video_en:/\u200e?video omitted/i,audio_en:/\u200e?audio omitted/i,sticker_en:/\u200e?sticker omitted/i,gif_en:/\u200e?GIF omitted/i,document_en:/\u200e?document omitted/i,contact_en:/\u200e?contact omitted/i};return n.image_es.test(_)||n.image_en.test(_)?{date:e,author:S,type:"image",fileName:c?.fileName||null}:n.video_es.test(_)||n.video_en.test(_)?{date:e,author:S,type:"video",fileName:c?.fileName||null}:n.audio_es.test(_)||n.audio_en.test(_)?{date:e,author:S,type:"audio",fileName:c?.fileName||null}:n.sticker_es.test(_)||n.sticker_en.test(_)?{date:e,author:S,type:"sticker",fileName:c?.fileName||null}:n.gif_es.test(_)||n.gif_en.test(_)?{date:e,author:S,type:"gif",fileName:c?.fileName||null}:n.document_es.test(_)||n.document_en.test(_)?{date:e,author:S,type:"document",fileName:c?.fileName||null}:n.contact_es.test(_)||n.contact_en.test(_)?{date:e,author:S,type:"contact",fileName:c?.fileName||null}:n.media_generic.test(_)?{date:e,author:S,type:"omitted",fileName:c?.fileName||null}:null}function me(_){return Object.values({ANDROID_EN:/^Messages and calls are end-to-end encrypted\./i,ANDROID_ES:/^Los mensajes y las llamadas estn cifrados de extremo a extremo\./i,IOS_EN:/^\u200e?Messages and calls are end-to-end encrypted\./i,IOS_ES:/^\u200e?Los mensajes y las llamadas estn cifrados de extremo a extremo\./i}).some(e=>e.test(_))}function ge(_){return Object.values({ANDROID_EN_1ST:/^You deleted this message$/i,ANDROID_EN_3RD:/^This message was deleted$/i,ANDROID_ES_1ST:/^Eliminaste este mensaje\.$/i,ANDROID_ES_3RD:/^Se elimin este mensaje\.$/i,IOS_EN_1ST:/^\u200e?You deleted this message\.$/i,IOS_EN_3RD:/^\u200e?This message was deleted\.$/i,IOS_ES_1ST:/^\u200e?Eliminaste este mensaje\.$/i,IOS_ES_3RD:/^\u200e?Se elimin este mensaje\.$/i}).some(e=>e.test(_))}function _e(_){return Object.values({ANDROID_EN:/Mensaje editado a <This message was edited>/i,ANDROID_ES:/Mensaje editado a <Se edit este mensaje\.>/i,IOS_EN:/<This message was edited>/i,IOS_ES:/<Se edit este mensaje\.>/i}).some(e=>e.test(_))}function ve(_){return _.replace(/Mensaje editado a <This message was edited>/i,"").replace(/Mensaje editado a <Se edit este mensaje\.>/i,"").replace(/<This message was edited>/i,"").replace(/<Se edit este mensaje\.>/i,"").trim()}function ye(_){return Object.values({ANDROID_EN_1ST:/^You created this group$/i,ANDROID_EN_3RD:/^.+ created this group$/i,ANDROID_ES_1ST:/^Creaste este grupo$/i,ANDROID_ES_3RD:/^.+ cre este grupo$/i,IOS_EN_1ST:/^\u200e?You created group "(.+)"$/i,IOS_EN_3RD:/^\u200e?.+ created group "(.+)"$/i,IOS_ES_1ST:/^\u200e?Creaste el grupo "(.+)"\.$/i,IOS_ES_3RD:/^\u200e?.+ cre el grupo "(.+)"\.$/i}).some(e=>e.test(_))}function be(_){return Object.values({ANDROID_EN_1ST:/^You changed the group name from "(.+)" to "(.+)"$/i,ANDROID_EN_3RD:/^.+ changed the group name from "(.+)" to "(.+)"$/i,ANDROID_ES_1ST:/^Cambiaste el nombre del grupo de "(.+)" a "(.+)"\.$/i,ANDROID_ES_3RD:/^.+ cambi el nombre del grupo de "(.+)" a "(.+)"\.$/i,IOS_EN_1ST:/^\u200e?You changed the group name from "(.+)" to "(.+)"$/i,IOS_EN_3RD:/^\u200e?.+ changed the group name from "(.+)" to "(.+)"$/i,IOS_ES_1ST:/^\u200e?Cambiaste el nombre del grupo de "(.+)" a "(.+)"\.$/i,IOS_ES_3RD:/^\u200e?.+ cambi el nombre del grupo de "(.+)" a "(.+)"\.$/i}).some(e=>e.test(_))}function we(_){return Object.values({ANDROID_EN_1ST:/^You added (.+)$/i,ANDROID_EN_3RD:/^.+ added you$/i,ANDROID_EN_GENERIC:/^were added$/i,ANDROID_ES_1ST:/^Aadiste a (.+)$/i,ANDROID_ES_3RD:/^.+ te aadi$/i,ANDROID_ES_GENERIC:/^Se aadi a (.+)$/i,IOS_EN_1ST:/^\u200e?You added (.+)$/i,IOS_EN_3RD:/^\u200e?.+ (added|added you)/i,IOS_ES_1ST:/^\u200e?Aadiste a (.+)$/i,IOS_ES_3RD:/^\u200e?.+ (aadi a|te aadi)/i}).some(e=>e.test(_))}function ke(_){return Object.values({ANDROID_EN_1ST:/^You removed (.+)$/i,ANDROID_EN_3RD:/^.+ removed (.+)$/i,ANDROID_ES_1ST:/^Eliminaste a (.+)\.$/i,ANDROID_ES_3RD:/^.+ elimin a (.+)\.$/i,IOS_EN_1ST:/^\u200e?You removed (.+)$/i,IOS_EN_3RD:/^\u200e?.+ removed (.+)$/i,IOS_ES_1ST:/^\u200e?Eliminaste a (.+)\.$/i,IOS_ES_3RD:/^\u200e?.+ elimin a (.+)\.$/i}).some(e=>e.test(_))}function Se(_){return Object.values({ANDROID_EN_1ST:/^You left$/i,ANDROID_EN_3RD:/^.+ left$/i,ANDROID_ES_1ST:/^Saliste del grupo\.$/i,ANDROID_ES_3RD:/^.+ sali del grupo\.$/i,IOS_EN_1ST:/^\u200e?You left$/i,IOS_EN_3RD:/^\u200e?.+ left$/i,IOS_ES_1ST:/^\u200e?Saliste del grupo\.$/i,IOS_ES_3RD:/^\u200e?.+ sali del grupo\.$/i}).some(e=>e.test(_))}function Ee(_){return Object.values({ANDROID_EN:/^Missed voice call\./i,ANDROID_ES:/^Llamada perdida\./i,IOS_EN:/^\u200e?Missed voice call\./i,IOS_ES:/^\u200e?Llamada perdida\./i}).some(e=>e.test(_))}function xe(_){return Object.values({ANDROID_EN:/^POLL:/i,ANDROID_ES:/^ENCUESTA:/i,IOS_EN:/^\u200e?POLL:/i,IOS_ES:/^\u200e?ENCUESTA:/i}).some(e=>e.test(_))}function Ae(_){return Object.values({ANDROID_EN:/^EVENT: /i,ANDROID_ES:/^EVENTO: /i,IOS_EN:/^\u200e?EVENT: /i,IOS_ES:/^\u200e?EVENTO: /i}).some(e=>e.test(_))}function Ie(_){return Object.values({ANDROID_EN:/^(live location shared|location: https:\/\/maps\.google\.com)/i,ANDROID_ES:/^(ubicacin en tiempo real compartida|ubicacin: https:\/\/maps\.google\.com)/i,IOS_EN:/^\u200e?(Location: https:\/\/maps\.google\.com)/i,IOS_ES:/^\u200e?(Ubicacin: https:\/\/maps\.google\.com)/i}).some(e=>e.test(_))}function Oe(_,S,e){return me(_)?{date:e,author:S,type:"encryption",content:_}:ge(_)?{date:e,author:S,type:"deleted",content:_}:ye(_)?{date:e,author:S,type:"group_created",content:_}:be(_)?{date:e,author:S,type:"group_renamed",content:_}:we(_)?{date:e,author:S,type:"user_added",content:_}:ke(_)?{date:e,author:S,type:"user_removed",content:_}:Se(_)?{date:e,author:S,type:"user_left",content:_}:Ee(_)?{date:e,author:S,type:"call_missed",content:_}:xe(_)?{date:e,author:S,type:"poll",content:_}:Ae(_)?{date:e,author:S,type:"event",content:_}:Ie(_)?{date:e,author:S,type:"location_shared",content:_}:_.startsWith("")?{date:e,author:S,type:"undefined",content:_}:null}function Ce(_){const S=he(_,{parseAttachments:!0});console.log(`
========================================`),console.log(` MENSAJES PARSEADOS POR whatsapp-chat-parser (${S.length} total):`),console.log(`========================================
`),console.table(S.map((i,a)=>({"#":a+1,date:i.date?.toISOString()||"NO DATE",author:i.author||"(sin autor)",message:i.message||"",attachment:i.attachment?.fileName||"-"}))),console.log(`========================================
`);const e=S.filter(i=>i.date?i.date.getFullYear()===2025:!1);console.log(` FILTRO: ${S.length} mensajes  ${e.length} mensajes del 2025
`);const c=[],n=[],r=[];return e.forEach(i=>{const a=i.message||"",l=i.author||null,y=i.date;if(l==="Meta AI"){r.push({date:y,author:l,type:"meta_ai",content:a});return}if(i.attachment){const m=fe(i.attachment,l,y);if(m){n.push(m);return}}const w=pe(a,l,y,i.attachment);if(w){n.push(w);return}const b=Oe(a,l,y);if(b){r.push(b);return}if(!l){r.push({date:y,author:l,type:"undefined",content:a});return}if(a.includes("")){r.push({date:y,author:l,type:"undefined",content:a});return}const k=_e(a),u=k?ve(a):a;c.push({date:y,author:l,content:u,attachment:i.attachment,edited:k})}),console.log(" CLASIFICACIN:"),console.log(`    Mensajes normales: ${c.length}`),console.log(`    Media omitida: ${n.length}`),console.log(`     System messages: ${r.length}`),n.length>0&&(console.log(`
 MEDIA DETECTADA:`),console.table(n.map((i,a)=>({"#":a+1,date:i.date.toISOString().split("T")[0],author:i.author||"(sin autor)",type:i.type,fileName:i.fileName||"-"})))),r.length>0&&(console.log(`
  SYSTEM MESSAGES DETECTADOS:`),console.table(r.map((i,a)=>({"#":a+1,date:i.date.toISOString().split("T")[0],author:i.author||"(sin autor)",type:i.type,content:i.content.substring(0,50)+(i.content.length>50?"...":"")})))),console.log(`
========================================`),console.log(" RESULTADO FINAL - 3 LISTAS:"),console.log("========================================"),console.log(`
 MESSAGES (mensajes normales):`),c.length>0?(console.table(c.slice(0,10).map((i,a)=>({"#":a+1,date:i.date.toISOString().split("T")[0],author:i.author||"(sin autor)",content:i.content.substring(0,40)+(i.content.length>40?"...":""),attachment:i.attachment?.fileName||"-"}))),c.length>10&&console.log(`   ... y ${c.length-10} mensajes ms`)):console.log("   (vaco)"),console.log(`
 MEDIA (media omitida o adjunta):`),n.length>0?console.table(n.map((i,a)=>({"#":a+1,date:i.date.toISOString().split("T")[0],author:i.author||"(sin autor)",type:i.type,fileName:i.fileName||"(omitted)"}))):console.log("   (vaco)"),console.log(`
  SYSTEM (mensajes del sistema):`),r.length>0?console.table(r.map((i,a)=>({"#":a+1,date:i.date.toISOString().split("T")[0],author:i.author||"(sin autor)",type:i.type,preview:i.content.substring(0,30)+"..."}))):console.log("   (vaco)"),console.log(`
========================================`),console.log(` TOTAL: ${c.length} mensajes, ${n.length} media, ${r.length} system`),console.log(`========================================
`),{messages:c,media:n,system:r}}function De(_){const S=_.match(/(?:created group|cre el grupo) "(.+)"/i);return S?S[1]:"WhatsApp Group"}function ct(_){return _.trim().replace(/\.+$/,"")}function ze(_){const S=_.system.filter(r=>r.type==="deleted").length,e=_.messages.length+_.media.length+S;if(e===0)return;const c=_.messages.reduce((r,i)=>r+i.content.split(/\s+/).filter(a=>a.length>0).length,0),n=_.messages.reduce((r,i)=>r+i.content.length,0);return{messages:e,words:c,characters:n}}function Ne(_){const S=new Map;if(_.messages.forEach(e=>{if(e.author){const c=ct(e.author);S.set(c,(S.get(c)||0)+1)}}),_.media.forEach(e=>{if(e.author){const c=ct(e.author);S.set(c,(S.get(c)||0)+1)}}),S.size!==0)return Array.from(S.entries()).map(([e,c])=>({name:e,messages:c})).sort((e,c)=>c.messages-e.messages).slice(0,5)}function Re(_){const S=new Map;if(_.system.forEach(c=>{if(c.author&&c.type==="deleted"){const n=ct(c.author);S.set(n,(S.get(n)||0)+1)}}),S.size===0)return;const e=Array.from(S.entries()).map(([c,n])=>({name:c,deleted:n})).filter(c=>c.deleted>3).sort((c,n)=>n.deleted-c.deleted).slice(0,1);if(e.length!==0)return e}function Te(_){const S=new Map;if(_.messages.forEach(c=>{if(c.author&&c.edited){const n=ct(c.author);S.set(n,(S.get(n)||0)+1)}}),S.size===0)return;const e=Array.from(S.entries()).map(([c,n])=>({name:c,edited:n})).filter(c=>c.edited>3).sort((c,n)=>n.edited-c.edited).slice(0,1);if(e.length!==0)return e}function Be(_){const S=new Map;if(_.messages.forEach(c=>{if(c.author&&c.content.trim().length>0){const n=c.content.trim().toLowerCase(),r=ct(c.author),i=S.get(n);i?i.count++:S.set(n,{author:r,count:1})}}),S.size===0)return;const e=Array.from(S.entries()).map(([c,n])=>({content:c.length>50?c.substring(0,50):c,author:n.author,count:n.count})).filter(c=>c.count>=2).sort((c,n)=>n.count-c.count).slice(0,3);if(e.length!==0)return e}function Le(_){const S=new Map,e=new Set(["de","la","que","el","en","y","a","los","se","del","las","un","por","con","no","una","su","para","es","al","lo","como","ms","pero","sus","le","ya","o","fue","este","ha","s","porque","esta","son","entre","est","cuando","muy","sin","sobre","tambin","me","hasta","hay","donde","han","quien","estn","estado","desde","todo","nos","durante","estados","todos","uno","les","ni","contra","otros","ese","eso","ante","ellos","e","esto","m","antes","algunos","qu","unos","yo","otro","otras","otra","l","tanto","esa","estos","mucho","quienes","nada","muchos","cual","sea","poco","ella","estar","estas","algunas","algo","nosotros","mi","mis","t","te","ti","tu","tus","ellas","nosotras","vosotros","vosotras","os","mo","ma","mos","mas","tuyo","tuya","tuyos","tuyas","suyo","suya","suyos","suyas","nuestro","nuestra","nuestros","nuestras","vuestro","vuestra","vuestros","vuestras","esos","esas","estoy","ests","estamos","estis","estn","est","ests","estemos","estis","estn","estara","estaras","estaramos","estarais","estaran","estar","estars","estaremos","estaris","estarn","estaba","estabas","estbamos","estabais","estaban","estuve","estuviste","estuvimos","estuvisteis","estuvieron","estuviera","estuvieras","estuviramos","estuvierais","estuvieran","estuviese","estuvieses","estuvisemos","estuvieseis","estuviesen","estando","estado","estada","estados","estadas","estad","he","has","hemos","habis","han","haya","hayas","hayamos","hayis","hayan","habra","habras","habramos","habrais","habran","habr","habrs","habremos","habris","habrn","haba","habas","habamos","habais","haban","hube","hubiste","hubimos","hubisteis","hubieron","hubiera","hubieras","hubiramos","hubierais","hubieran","hubiese","hubieses","hubisemos","hubieseis","hubiesen","haciendo","hecho","hecha","hechos","hechas","haced","media","omitted","multimedia","omitido","imagen","video","audio","sticker","gif","null","nan","the","be","to","of","and","in","that","have","i","it","for","not","on","with","he","as","you","do","at","this","but","his","by","from"]);if(_.messages.forEach(c=>{c.content&&c.content.toLowerCase().split(/\s+/).forEach(r=>{const i=r.replace(/[^a-z]/gi,"");i.length>3&&!e.has(i)&&S.set(i,(S.get(i)||0)+1)})}),S.size!==0)return Array.from(S.entries()).map(([c,n])=>({word:c,count:n})).sort((c,n)=>n.count-c.count).slice(0,5)}function Fe(_){const S=new Map,e=/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu;if(_.messages.forEach(c=>{if(c.content){const n=c.content.match(e);n&&n.forEach(r=>{S.set(r,(S.get(r)||0)+1)})}}),S.size!==0)return Array.from(S.entries()).map(([c,n])=>({emoji:c,count:n})).sort((c,n)=>n.count-c.count).slice(0,5)}function je(_){const S={};if(_.messages.forEach(e=>{const c=e.date.getMonth()+1;S[c]=(S[c]||0)+1}),Object.keys(S).length!==0)return S}function Pe(_){const S=new Map;if(_.messages.forEach(c=>{const n=c.date.toISOString().split("T")[0];S.set(n,(S.get(n)||0)+1)}),S.size===0)return;let e={date:"",messages:0};return S.forEach((c,n)=>{c>e.messages&&(e={date:n,messages:c})}),e}function Me(_){const S=[..._.messages.map(c=>c.date),..._.media.map(c=>c.date)].sort((c,n)=>c.getTime()-n.getTime());if(S.length<2)return;let e={from:"",to:"",days:0};for(let c=1;c<S.length;c++){const n=S[c-1],r=S[c],i=r.getTime()-n.getTime(),a=Math.floor(i/(1e3*60*60*24));a>e.days&&(e={from:n.toISOString().split("T")[0],to:r.toISOString().split("T")[0],days:a})}if(!(e.days<1))return e}function Ue(_){const S=[..._.messages.map(i=>i.date),..._.media.map(i=>i.date)];if(S.length===0)return;const e=new Set(S.map(i=>i.toISOString().split("T")[0])),c=Array.from(e).sort();if(c.length<2)return;let n={from:c[0],to:c[0],days:1},r={...n};for(let i=1;i<c.length;i++){const a=new Date(c[i-1]),l=new Date(c[i]);Math.floor((l.getTime()-a.getTime())/(1e3*60*60*24))===1?(n.to=c[i],n.days++):(n.days>r.days&&(r={...n}),n={from:c[i],to:c[i],days:1})}if(n.days>r.days&&(r={...n}),!(r.days<2))return r}function We(_,S){const e=_.media.filter(r=>r.type==="sticker");if(e.length===0)return;const c=new Map;e.forEach(r=>{const i=r.fileName||"unknown";c.set(i,(c.get(i)||0)+1)});const n=Array.from(c.entries()).map(([r,i])=>({content:r,count:i})).sort((r,i)=>i.count-r.count).slice(0,5);return n.length>0?n:void 0}function Ze(_,S){const e=_.media.filter(r=>r.type==="sticker"&&r.author);if(e.length===0)return;const c=new Map;e.forEach(r=>{if(r.author){const i=r.fileName||"unknown",a=ct(r.author),l=`${a}|${i}`;c.has(l)?c.get(l).count++:c.set(l,{name:a,sticker:i,count:1})}});const n=Array.from(c.values()).map(r=>{const i=r.sticker;return{...r,sticker:i}}).sort((r,i)=>i.count-r.count).slice(0,3);return n.length>0?n:void 0}function $e(_){const S=_.media.filter(n=>n.type==="sticker"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,stickers:r})).sort((n,r)=>r.stickers-n.stickers);return c.length>0&&c[0].stickers>=3?c[0]:void 0}function Ge(_){const S=_.media.filter(n=>n.type==="audio"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,audios:r})).sort((n,r)=>r.audios-n.audios);return c.length>0&&c[0].audios>=3?c[0]:void 0}function He(_){const S=_.media.filter(n=>n.type==="location"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,locations:r})).sort((n,r)=>r.locations-n.locations);return c.length>0&&c[0].locations>=3?c[0]:void 0}function Ye(_){const S=_.system.filter(n=>n.type==="poll"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,polls:r})).sort((n,r)=>r.polls-n.polls);return c.length>0&&c[0].polls>=3?c[0]:void 0}function qe(_){const S=_.media.filter(n=>n.type==="image"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,images:r})).sort((n,r)=>r.images-n.images);return c.length>0&&c[0].images>=3?c[0]:void 0}function Ke(_){const S=_.media.filter(n=>n.type==="video"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,videos:r})).sort((n,r)=>r.videos-n.videos);return c.length>0&&c[0].videos>=3?c[0]:void 0}function Ve(_){const S=_.media.filter(n=>n.type==="document"&&n.author);if(S.length===0)return;const e=new Map;S.forEach(n=>{if(n.author){const r=ct(n.author);e.set(r,(e.get(r)||0)+1)}});const c=Array.from(e.entries()).map(([n,r])=>({name:n,documents:r})).sort((n,r)=>r.documents-n.documents);return c.length>0&&c[0].documents>=3?c[0]:void 0}function Xe(_,S,e){const c=ze(_),n=Ne(_),r=Re(_),i=Te(_),a=Be(_),l=Le(_),y=Fe(_),w=je(_),b=Pe(_),k=Me(_),u=Ue(_),m=We(_),o=Ze(_),f=$e(_),d=Ge(_),g=He(_),E=Ye(_),I=qe(_),A=Ke(_),L=Ve(_),R=new Set,P=v=>{v&&R.add(v)};n?.forEach(v=>P(v.name)),r?.forEach(v=>P(v.name)),i?.forEach(v=>P(v.name)),a?.forEach(v=>P(v.author)),P(f?.name),P(d?.name),P(g?.name),P(E?.name),P(I?.name),P(A?.name),P(L?.name),o&&o.length>0&&P(o[0].name);const N=Array.from(R).sort(),U=new Map;N.forEach((v,T)=>U.set(v,T));const Y={year:2025,group_name:S,participants:N};return c&&(Y.totals=c),l&&(Y.top_words=l),y&&(Y.top_emojis=y),w&&(Y.messages_per_month=w),b&&(Y.peak_activity_day=b),k&&(Y.longest_silence_streak=k),u&&(Y.longest_activity_streak=u),m&&(Y.top_stickers=m),n&&(Y.top_senders=n.map(v=>({nameIndex:U.get(v.name),messages:v.messages}))),r&&(Y.top_deleters=r.map(v=>({nameIndex:U.get(v.name),deleted:v.deleted}))),i&&(Y.top_editors=i.map(v=>({nameIndex:U.get(v.name),edited:v.edited}))),a&&(Y.most_frequent_message=a.map(v=>({authorIndex:U.get(v.author),content:v.content,count:v.count}))),o&&o.length>0&&(Y.top_sticker_senders=[{nameIndex:U.get(o[0].name),sticker:o[0].sticker,count:o[0].count}]),f&&(Y.most_sticker_sender={nameIndex:U.get(f.name),stickers:f.stickers}),d&&(Y.most_audio_sender={nameIndex:U.get(d.name),audios:d.audios}),g&&(Y.most_location_sender={nameIndex:U.get(g.name),locations:g.locations}),E&&(Y.most_poll_starter={nameIndex:U.get(E.name),polls:E.polls}),I&&(Y.most_image_sender={nameIndex:U.get(I.name),images:I.images}),A&&(Y.most_video_sender={nameIndex:U.get(A.name),videos:A.videos}),L&&(Y.most_document_sender={nameIndex:U.get(L.name),documents:L.documents}),console.log(` Stats calculadas. Participantes en slides: ${N.length}`),Y}console.log(" Upload Script Initialized");function Je(){return document.getElementById("status")}function _t(_,S){const e=Je();console.log(`[Status Update] ${S}: ${_}`),e&&(e.textContent=_,e.className=`status visible ${S}`)}async function Ut(_){console.log(" Starting processing for:",_.name),_t("Desempacando tu historia...","process");try{let S="",e=null;if(await new Promise(i=>setTimeout(i,600)),_.name.endsWith(".zip")){console.log(" ZIP detected, unzipping..."),e=await new Kt().loadAsync(_),console.log(" ZIP Content:",Object.keys(e.files));const a=Object.values(e.files).find(l=>l.name.includes("_chat.txt")||l.name.endsWith(".txt"));if(!a)throw new Error("No chat file (.txt) found in ZIP.");S=await a.async("string")}else S=await _.text();console.log(" Text recovered, length:",S.length),_t("Analizando mensajes...","process"),await new Promise(i=>setTimeout(i,400)),console.log(`
 COMENZANDO ANLISIS DEL CHAT...`);const c=Ce(S),n=De(S);console.log(`
 CALCULANDO ESTADSTICAS...`);const r=Xe(c,n);if(e){console.log(" Extracting specific stickers...");const i=e.files,a=async l=>{const y=Object.values(i).find(w=>w.name.endsWith(l)&&!w.name.startsWith("__MACOSX"));return y?await y.async("base64"):null};if(r.top_stickers){const l=[];for(const y of r.top_stickers){const w=y.content;if(w&&w!=="unknown"){const b=await a(w);b?(y.content=b,l.push(y)):console.warn(` Sticker file not found in ZIP: ${w} `)}}r.top_stickers=l,r.top_stickers.length===0&&delete r.top_stickers}if(r.top_sticker_senders){const l=[];for(const y of r.top_sticker_senders){const w=y.sticker;if(w&&w!=="unknown"){const b=await a(w);b?(y.sticker=b,l.push(y)):console.warn(` Sticker file not found in ZIP: ${w} `)}}r.top_sticker_senders=l,r.top_sticker_senders.length===0&&delete r.top_sticker_senders}console.log(" Sticker extraction complete")}else console.log(" No ZIP loaded. Removing media-dependent categories (stickers)."),delete r.top_stickers,delete r.top_sticker_senders;console.log(`
 ANLISIS COMPLETADO`),console.log(`   Ao: ${r.year} `),console.log(`   Grupo: ${r.group_name} `),r.totals&&console.log(`   Mensajes: ${r.totals.messages} `),console.log(" Chat parsed successfully:",r),Qe(r)}catch(S){console.error(" Error processing file:",S),_t(S instanceof Error?S.message:"Algo sali mal.","error")}}function Qe(_){_t("Personaliza nombres","visible");const S=document.querySelector(".modal-content"),e=document.getElementById("upload-modal");if(!S||!e)return;e.scrollTo(0,0);let n=_.participants.map((r,i)=>`
        <div class="name-input-group">
            <input type="text" class="participant-name-input" data-index="${i}" value="${r}">
        </div>
    `).join("");S.innerHTML=`
        <div class="modal-header">
            <h2 class="modal-title">Personaliza nombres</h2>
            <button id="close-modal-btn" class="close-modal-btn">&times;</button>
        </div>
        <div class="names-editor" style="background: none; padding: 0;">
            <p>Aqu aparecen los "nominados" a salir en tu historia. Dales un nombre bonito!</p>
            <p style="font-size: 0.8em; margin-top: -15px; opacity: 0.8;">(No aparecen todos los del chat, solo los que tuvieron ms protagonismo este ao)</p>
            
            <div class="names-list">
                <div class="name-input-group">
                    <label>Nombre del Grupo</label>
                    <input type="text" id="group-name-input" value="${_.group_name}">
                </div>
                <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 8px 0;">
                <div class="name-input-group" style="margin-bottom: -8px;">
                    <label>NOMINADOS AL WRAPPED</label>
                </div>
                ${n}
            </div>

            <div class="editor-footer">
                <button id="generate-btn" class="btn-primary">Ver mi Wrapped</button>
            </div>
        </div>
    `,document.getElementById("close-modal-btn")?.addEventListener("click",Ot),document.getElementById("generate-btn")?.addEventListener("click",()=>{const r=document.getElementById("group-name-input");_.group_name=r.value,document.querySelectorAll(".participant-name-input").forEach(a=>{const l=parseInt(a.getAttribute("data-index")||"0");_.participants[l]=a.value}),tr(_)})}async function tr(_){_t("Generando tu historia...","process"),sessionStorage.removeItem("shareError"),sessionStorage.removeItem("shareKeys"),console.log(" Guardando wrapped data en sessionStorage..."),sessionStorage.setItem("wrappedData",JSON.stringify(_));try{const{uploadWrappedData:S}=await Ht(async()=>{const{uploadWrappedData:e}=await import("./shareService-BGiI-quj.js");return{uploadWrappedData:e}},__vite__mapDeps([0,1,2,3,4]),import.meta.url);await S(_),console.log(" Subida a KV completada con xito.")}catch(S){console.warn(" No se pudo habilitar el compartir (va KV):",S),sessionStorage.setItem("shareError","true")}_t("Wrapped listo!","success"),await new Promise(S=>setTimeout(S,800)),console.log(" Redirigiendo a visualizacin..."),window.location.href="./wrapped/"}const gt=document.getElementById("upload-modal"),It=document.getElementById("open-upload-btn"),Lt=document.getElementById("close-modal-btn");function Ot(){gt&&(gt.classList.remove("active"),setTimeout(()=>{gt.style.display="none"},300))}gt&&It&&Lt&&(It.addEventListener("click",()=>{gt.style.display="flex",requestAnimationFrame(()=>{gt.classList.add("active")})}),Lt.addEventListener("click",Ot),gt.addEventListener("click",S=>{S.target===gt&&Ot()}),new URLSearchParams(window.location.search).get("open")==="true"&&It.click());const Ft=document.querySelectorAll(".tab-btn"),er=document.querySelectorAll(".instructions-content");Ft.forEach(_=>{_.addEventListener("click",()=>{Ft.forEach(c=>c.classList.remove("active")),_.classList.add("active");const S=_.dataset.tab;er.forEach(c=>c.classList.add("hidden"));const e=document.getElementById(`tab-${S}`);e&&e.classList.remove("hidden")})});document.addEventListener("change",_=>{const S=_.target;S&&S.id==="file-upload"&&S.files&&S.files.length&&Ut(S.files[0])});document.addEventListener("dragover",_=>{const e=_.target.closest("#drop-zone");e&&(_.preventDefault(),e.classList.add("drag-active"))});document.addEventListener("dragleave",_=>{const e=_.target.closest("#drop-zone");e&&(_.preventDefault(),e.classList.remove("drag-active"))});document.addEventListener("drop",_=>{const e=_.target.closest("#drop-zone");e&&(_.preventDefault(),e.classList.remove("drag-active"),_.dataTransfer&&_.dataTransfer.files.length&&Ut(_.dataTransfer.files[0]))});document.addEventListener("click",_=>{const S=_.target;if(S&&S.id==="copy-btn"){const e=document.getElementById("share-link-input");e&&(e.select(),navigator.clipboard.writeText(e.value),S.textContent="COPIADO!",setTimeout(()=>S.textContent="COPIAR",2e3))}});
