---
import Slide from "./Slide.astro";
import { wrappedData } from "../data";
---

<Slide class="outro-slide">
    <div class="content">
        <h1>
            Â¡QuÃ© gran aÃ±o para el grupo <span data-field="group_name"
                >{wrappedData.group_name}</span
            >!
        </h1>
        <div class="emoji">ðŸ¥³</div>
        <p>Nos vemos en 2026 con mÃ¡s historias.</p>

        <div class="actions" style="margin-top: 40px;">
            <a
                href="/"
                style="background: var(--whatsapp-green); color: black; padding: 12px 24px; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 1.1rem;"
                >Haz tu propio Wrapped</a
            >
        </div>
    </div>
</Slide>

<script>
    import { gsap } from "gsap";
    const slide = document.querySelector(".outro-slide");

    slide?.addEventListener("slide-enter", () => {
        const h1 = slide.querySelector("h1");
        const emoji = slide.querySelector(".emoji");
        const p = slide.querySelector("p");

        if (h1) {
            gsap.fromTo(
                h1,
                { autoAlpha: 0, y: 20 },
                { autoAlpha: 1, y: 0, duration: 1 },
            );
        }
        if (emoji) {
            gsap.fromTo(
                emoji,
                { scale: 0, rotate: -360, autoAlpha: 0 },
                {
                    scale: 1,
                    rotate: 0,
                    autoAlpha: 1,
                    duration: 1.2,
                    ease: "elastic.out",
                },
            );
        }
        if (p) {
            gsap.fromTo(p, { autoAlpha: 0 }, { autoAlpha: 1, delay: 1 });
        }
    });
</script>

<style>
    .content {
        text-align: center;
    }
    h1 {
        font-size: 2.5rem;
        opacity: 0;
        visibility: hidden;
    }
    .emoji {
        font-size: 5rem;
        margin: 1rem 0;
        opacity: 0;
        visibility: hidden;
    }
    p {
        color: var(--text-secondary);
        font-size: 1.2rem;
        opacity: 0;
        visibility: hidden;
    }
</style>
